/*
 * Copyright 2014 Space Dynamics Laboratory - Utah State University Research Foundation.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package edu.usu.sdl.openstorefront.usecase;

import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.ObjectMapper;
import edu.usu.sdl.openstorefront.common.util.StringProcessor;
import edu.usu.sdl.openstorefront.service.manager.model.JiraIssueType;
import java.io.IOException;
import java.util.List;
import org.junit.Test;

/**
 *
 * @author dshurtleff
 */
public class MappingUseCase
{

	@Test
	public void testMapping() throws IOException
	{

		String data = "[{\"self\":\"https://jira.di2e.net/rest/api/2/issuetype/10106\",\"id\":\"10106\",\"name\":\"Asset\",\"subtask\":false,\"statuses\":[{\"self\":\"https://jira.di2e.net/rest/api/2/status/10465\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/subtask.gif\",\"name\":\"Backlog\",\"id\":\"10465\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/2\",\"id\":2,\"key\":\"new\",\"colorName\":\"blue-gray\",\"name\":\"New\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10569\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Inspection\",\"id\":\"10569\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10573\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Not DI2E Reusable\",\"id\":\"10573\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10667\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Component Tracking\",\"id\":\"10667\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10570\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Integration & Testing\",\"id\":\"10570\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10669\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Preparation\",\"id\":\"10669\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10665\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Component On Hold\",\"id\":\"10665\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10668\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Obsolete\",\"id\":\"10668\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/11265\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/statuses/generic.png\",\"name\":\"RI Integration\",\"id\":\"11265\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}}]},{\"self\":\"https://jira.di2e.net/rest/api/2/issuetype/3\",\"id\":\"3\",\"name\":\"Task\",\"subtask\":false,\"statuses\":[{\"self\":\"https://jira.di2e.net/rest/api/2/status/3\",\"description\":\"This issue is being actively worked on at the moment by the assignee.\",\"iconUrl\":\"https://jira.di2e.net/images/icons/statuses/inprogress.png\",\"name\":\"In Progress\",\"id\":\"3\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10465\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/subtask.gif\",\"name\":\"Backlog\",\"id\":\"10465\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/2\",\"id\":2,\"key\":\"new\",\"colorName\":\"blue-gray\",\"name\":\"New\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10567\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Planned\",\"id\":\"10567\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/2\",\"id\":2,\"key\":\"new\",\"colorName\":\"blue-gray\",\"name\":\"New\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10566\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Completed\",\"id\":\"10566\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10565\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Canceled\",\"id\":\"10565\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10001\",\"description\":\"This status is managed internally by JIRA Agile\",\"iconUrl\":\"https://jira.di2e.net/images/icons/subtask.gif\",\"name\":\"Blocked\",\"id\":\"10001\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}}]},{\"self\":\"https://jira.di2e.net/rest/api/2/issuetype/5\",\"id\":\"5\",\"name\":\"Sub-task\",\"subtask\":true,\"statuses\":[{\"self\":\"https://jira.di2e.net/rest/api/2/status/3\",\"description\":\"This issue is being actively worked on at the moment by the assignee.\",\"iconUrl\":\"https://jira.di2e.net/images/icons/statuses/inprogress.png\",\"name\":\"In Progress\",\"id\":\"3\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10465\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/subtask.gif\",\"name\":\"Backlog\",\"id\":\"10465\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/2\",\"id\":2,\"key\":\"new\",\"colorName\":\"blue-gray\",\"name\":\"New\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10567\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Planned\",\"id\":\"10567\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/2\",\"id\":2,\"key\":\"new\",\"colorName\":\"blue-gray\",\"name\":\"New\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10566\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Completed\",\"id\":\"10566\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10565\",\"description\":\"\",\"iconUrl\":\"https://jira.di2e.net/images/icons/status_generic.gif\",\"name\":\"Canceled\",\"id\":\"10565\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/3\",\"id\":3,\"key\":\"done\",\"colorName\":\"green\",\"name\":\"Complete\"}},{\"self\":\"https://jira.di2e.net/rest/api/2/status/10001\",\"description\":\"This status is managed internally by JIRA Agile\",\"iconUrl\":\"https://jira.di2e.net/images/icons/subtask.gif\",\"name\":\"Blocked\",\"id\":\"10001\",\"statusCategory\":{\"self\":\"https://jira.di2e.net/rest/api/2/statuscategory/4\",\"id\":4,\"key\":\"indeterminate\",\"colorName\":\"yellow\",\"name\":\"In Progress\"}}]}]";

		ObjectMapper objectMapper = StringProcessor.defaultObjectMapper();
		List<JiraIssueType> issueTypes = objectMapper.readValue(data, new TypeReference<List<JiraIssueType>>()
		{
		});

	}

}
