"use strict";function isEmpty(a){if(null===a||void 0===a)return!0;if(a.length>0)return!1;if(0===a.length)return!0;for(var b in a)if(hasOwnProperty2.call(a,b))return!1;return!0}var app=angular.module("openstorefrontApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.bootstrap","mgcrea.ngStrap","ngTagsInput","ngAnimate","ngCkeditor","ngGrid"]).config(["$routeProvider","tagsInputConfigProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/userprofile",{templateUrl:"views/userprofile.html",controller:"UserProfileCtrl"}).when("/results",{templateUrl:"views/results.html",controller:"ResultsCtrl"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl"}).when("/landing",{templateUrl:"views/landing.html",controller:"LandingCtrl"}).otherwise({redirectTo:"/"}),b.setDefaults("tagsInput",{placeholder:"Add a tag (single space for suggestions)"}).setDefaults("autoComplete",{maxResultsToShow:15}).setActiveInterpolation("tagsInput",{placeholder:!0,addOnEnter:!0,removeTagSymbol:!0})}]).run(["$rootScope","localCache","business","$location","$route","$timeout",function(a,b,c,d,e,f){a._scopename="root",a.Current=null,a.$on("$routeChangeStart",function(a,b,c){c&&"views/results.html"===c.loadedTemplateUrl&&resetAnimGlobals(),setTimeout(function(){$(".searchBar:input[type='text']").on("click",function(){$(this).select()})},500)}),a.$on("$locationChangeStart",function(){d.path()&&"/results"===d.path()||d.search({}),d.path()&&"/"!==d.path()?a.$broadcast("$changenav","views/nav/nav.html"):a.$broadcast("$changenav","views/nav/nav_main.html")}),a.$on("$viewContentLoaded",function(){a.typeahead=c.typeahead(),f(function(){$('[data-toggle="tooltip"').tooltip(),d.path()&&"/"!==d.path()?a.$broadcast("$changenav","views/nav/nav.html"):a.$broadcast("$changenav","views/nav/nav_main.html")},300)}),a.$on("$viewModal",function(a,b){$("#"+b).modal("show")}),a.$on("$TRIGGERLOAD",function(b,c){f(function(){a.$broadcast("$LOAD",c)},10)}),a.$on("$TRIGGERUNLOAD",function(b,c){f(function(){a.$broadcast("$UNLOAD",c)},10)}),a.openModal=function(b,c){a.current=c,a.$broadcast("$"+b),a.$broadcast("updateBody"),a.$broadcast("$viewModal",b)}}]);app.factory("localCache",function(){var a=window.localStorage,b=function(b,c){if("string"!=typeof b)throw new Error("Key must be a string");"object"==typeof c&&(c=c instanceof Date?c.toString():JSON.stringify(c)),a.setItem(b,c)},c=function(b,c){if("string"!=typeof b)throw new Error("Key must be a string");return"undefined"!=typeof c&&"object"===c?JSON.parse(a.getItem(b)):"undefined"!=typeof c&&"date"===c?new Date(a.getItem(b)):a.getItem(b)},d=function(){a.clear()},e=function(b){if("string"!=typeof b)throw new Error("Key must be a string");a.removeItem(b)};return{save:b,get:c,clearAll:d,clear:e}}),app.factory("business",["localCache","$http","$q",function(a,b,c){var d=6e4,e={};return e.getFilters=function(){return MOCKDATA.filters},e.getWatches=function(){return MOCKDATA.watchTypes.watches},e.getData=function(){return MOCKDATA.assets.assets},e.getDataByType=function(a){return _.filter(MOCKDATA.assets.assets,function(b){return b.type===a})},e.getScoreCard=function(){return MOCKDATA.scoreTable},e.getExternalDepend=function(){return MOCKDATA.externalDepend},e.getLocalAssetArtifacts=function(){return MOCKDATA.localAssetArtifacts},e.getComponentVitals=function(){return MOCKDATA.componentVitals},e.getPointsContact=function(){return MOCKDATA.pointsContact},e.getComponentSummary=function(){return MOCKDATA.componentSummary},e.getComponentEvalProgressBar=function(){return MOCKDATA.componentEvalProgressBar},e.getComponentState=function(){return MOCKDATA.componentState},e.getComponentEvalProgressBarDates=function(){return MOCKDATA.componentEvalProgressBarDates},e.getResultsComments=function(){return MOCKDATA.resultsComments},e.getTagsList=function(){return MOCKDATA.tagsList},e.getProsConsList=function(){return MOCKDATA.prosConsList},e.getWatches=function(){return MOCKDATA.watches},e.saveTags=function(a,b){var c=_.findWhere(MOCKDATA.assets.assets,{id:a});return e.updateTagCloud(b),(void 0===c||isEmpty(c))&&(c.assetTags=b),!0},e.setWatches=function(a){return MOCKDATA.watches=a,!0},e.search=function(b,e,f){var g=c.defer(),h=null;if(b&&e)!b&&e?(a.save("searchKey",[{key:"search",code:e}]),a.save("searchKey-time",new Date),h=e,g.resolve(h)):b&&e?(a.save("searchKey",[{key:b,code:e}]),a.save("searchKey-time",new Date),h=e,g.resolve(h)):(g.reject("There was an unexpected or unknownn error."),h=null);else{if(h=a.get("searchKey","object")){var i=a.get("searchKey-time","date"),j=new Date-i;1440*d>j?g.resolve(h):(g.reject("The searchKey has expired."),h=null)}else g.reject("The search key has not been set. Search has been reset to Default."),h=null}return f?g.promise:h},e.landingPage=function(b,e,f){var g=c.defer(),h=null;if(b&&e)!b&&e?(a.save("landingRoute",{key:b,value:e}),a.save("landingRoute-time",new Date),h=b,g.resolve(h)):b&&e?(a.save("landingRoute",{key:b,value:e}),a.save("landingRoute-time",new Date),h=b,g.resolve(h)):(g.reject("There was an unexpected or unknownn error."),h=null);else{if(h=a.get("landingRoute","object")){var i=a.get("landingRoute-time","date"),j=new Date-i;1440*d>j?g.resolve(h):(g.reject("The landingRoute has expired."),h=null)}else g.reject("The Landing Route has not been set. Landing has been reset to Default."),h=null}return f?g.promise:h},e.typeahead=function(b,c){var e=null,f=a.get("typeahead","object");if(f){var g=a.get("typeahead-time","date"),h=new Date-g;if(1440*d>h)return f;b?(e=b(),void 0!==c&&null!==c&&(e=_.pluck(e,c))):e=_.pluck(this.getData(),"name")}else e=_.pluck(this.getData(),"name");if(e)return a.save("typeahead",e),a.save("typeahead-time",new Date),e;throw new Error("We need a new target in order to refresh the data")},e.updateTagCloud=function(a){console.log("tags",a),_.each(a,function(a){_.contains(MOCKDATA.tagsList,a.text)||MOCKDATA.tagsList.push(a.text)}),MOCKDATA.tagsList.sort()},e}]),app.directive("raty",function(){return{restrict:"AE",link:function(a,b,c){c.$observe("score",function(){var d=!1,e="images/raty";void 0!==c.readOnly&&null!==c.readOnly&&(d=!0),void 0!==c.path&&null!==c.path&&(e=c.path),void 0!==a[c.ngmodel]&&null!==a[c.ngmodel]&&""!==a[c.ngmodel]&&a.$watch(a[c.ngmodel],function(){}),$(b).raty({score:c.score,number:c.number,path:e,readOnly:d,cancel:!d,noRatedMsg:"This component hasn not been rated yet",half:!0,starType:"i",hints:["Bad","Below Average","Average","Above Average","Great"],click:function(b){a[c.ngModel]=b,a.$apply()}})},!0)}}}),angular.module("openstorefrontApp").directive("modal",function(){return{restrict:"AE",scope:{},controller:"@",name:"controllerName",template:'<div class="modal fade {{classes}}" id="{{id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <div ng-include="header"></div> </div> <div class="modal-body"> <div ng-include src="body"></div> </div> <div class="modal-footer"> <div ng-include="footer"></div> </div> </div> </div </div>',link:function(a,b,c){var d=a.$parent;a.header="views/modalDefaults/header.html",a.footer="views/modalDefaults/footer.html",a.body="views/modalDefaults/body.html",a.id=c.modalid,d.$on("updateBody",function(){void 0!==d.nav&&null!==d.nav&&(a.nav=d.nav),a.body=null,a.body="views/modalDefaults/body.html",void 0!==d.classes&&null!==d.classes&&(a.classes=d.classes)}),null!==c.header&&void 0!==c.header&&(a.header=c.header),null!==c.footer&&void 0!==c.footer&&(a.footer=c.footer),null!==c.body&&void 0!==c.body&&(a.body=c.body),null!==c.modalclasses&&void 0!==c.modalclasses&&(a.classes=c.modalclasses)}}}),app.directive("enterEvent",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter,{event:b})}),b.preventDefault())})}}),app.directive("componentList",["business","$timeout",function(a){var b=1;return{template:'<div class="hideMore"><div class="hideMoreArticle"><input ng-show="hasMoreThan3 && showMore" type="checkbox" role="button" class="read_more"><label ng-show="hasMoreThan3 && showMore" data-toggle="tooltip" data-placement="top" title="Click here to show more!" ng-click="setShown()" class="read_more bottomCircleBase"><span><i class="fa fa-arrow-down"></i></span><span><i class="fa fa-arrow-up"></i></span></label><br /><div ng-class="listOfClasses"><div ng-show="isTitle" class="componentListTitle">{{title}}</div><table class="table table-striped" id="resultsTable"><tr ng-repeat="item in data" class="moreSection" style="margin-bottom: 20px;"><td style="white-space: inherit;"><div class="container-fluid"><div class="row" style="margin-left: 0px; margin-right: 0px"><div class="results-content"><div class="results-content-title"><div ng-click="clickCallback(item.id)" id="{{item.id}}"><div class="results-content-title-content" >{{item.name}}</div></div><raty read-only ng-class="{lastPopover:$last}" class="pull-left average-raty" id="star{{$index style="min-width:110px; height: 100%;" score="{{item.stats.averageRating}}" number="5" pathimages/raty/" data-container="body" data-toggle="popover" data-content="Average rating: {{itemstats.averageRating}} of {{item.stats.numberRatings}}<br>Comments: {{item.stats.comments}}<br>Views: {{item.stats.views}}"></raty></div>&nbsp; Last Updated: {{item.updateDate}}<br><div class="results-content-description">{{item.shortdescription}}</div></div></div></div></td></tr></table></div></div></div>',restrict:"AE",scope:{data:"=",clickCallback:"=",filters:"=",hideMore:"@"},link:function(c,d,e){var f="componentList"+b++;d.find(".hideMore").attr("id",f),f="read_more"+b++,d.find("input.read_more").attr("id",f),d.find("label.read_more").attr("for",f),c.hasMoreThan3=!1,c._scopename="componentList",c.isShownClass=null,c.isTitle=!1,c.listOfClasses=e.classList,c.$watch("data",function(){c.data.length>3&&(c.hasMoreThan3=!0),c.addMore()}),null!==e.type&&void 0!==e.type&&""!==e.type&&(c.data=a.getData(),_.each(c.data,function(a){a.shortdescription=a.description.match(/^(.*?)[.?!]\s/)[1]+"."})),null!==e.title&&void 0!==e.title&&""!==e.title&&(c.isTitle=!0,c.title=e.title),c.setShown=function(){var a=d.find(".hideMore").attr("id");$("#"+a).toggleClass("active")},c.$watch("hideMore",function(){c.addMore()}),c.addMore=function(){void 0!==c.hideMore&&null!==c.hideMore&&(d.find(".hideMore").addClass("moreContent"),d.find(".hideMoreArticle").addClass("moreContentArticle"),d.find(".moreSection").each(function(){$(this).addClass("moreContentSection")}),c.showMore=!0)},c.init=function(){$('[data-toggle="tooltip"').tooltip()},c.init()}}}]),app.directive("abnTree",["$timeout",function(a){return{restrict:"E",template:'<ul class="nav nav-list nav-pills nav-stacked abn-tree">\n  <li ng-repeat="row in treeRows | filter:{visible:true} track by row.branch.uid" ng-animate="\'abn-tree-animate\'" ng-class="\'level-\' + {{ row.level }} + (row.branch.selected ? \' active\':\'\')" class="abn-tree-row">\n    <a ng-click="userClicksBranch(row.branch)">\n      <i ng-class="row.treeIcon" ng-click="row.branch.expanded = !row.branch.expanded" class="indented tree-icon"> </i>\n      <span class="indented tree-label">{{ row.label }} </span>\n    </a>\n  </li>\n</ul>',replace:!0,scope:{treeData:"=",onSelect:"&",initialSelection:"@",treeControl:"="},link:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o;if(e=function(a){return void console.log("ERROR:"+a)},null===d.iconExpand&&(d.iconExpand="icon-plus  glyphicon glyphicon-plus  fa fa-plus"),null===d.iconCollapse&&(d.iconCollapse="icon-minus glyphicon glyphicon-minus fa fa-minus"),null===d.iconLeaf&&(d.iconLeaf="icon-file  glyphicon glyphicon-file  fa fa-file"),null===d.expandLevel&&(d.expandLevel="3"),g=parseInt(d.expandLevel,10),b.treeData){if(null===b.treeData.length){if(null===treeData.label||void 0===treeData.label)return;b.treeData=[treeData]}return i=function(a){var c,d,e,f,g,h;for(c=function(b,d){var e,f,g,h,i;if(a(b,d),null!==b.children&&void 0!==b.children){for(h=b.children,i=[],f=0,g=h.length;g>f;f++)e=h[f],i.push(c(e,d+1));return i}},g=b.treeData,h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(c(d,1));return h},n=null,m=function(c){if(!c)return null!==n&&void 0!==n&&(n.selected=!1),void(n=null);if(c!==n){if(null!==n&&void 0!==n&&(n.selected=!1),c.selected=!0,n=c,f(c),null!==c.onSelect&&void 0!==c.onSelect)return a(function(){return c.onSelect(c)});if(null!==b.onSelect&&void 0!==b.onSelect)return a(function(){return b.onSelect({branch:c})})}},b.userClicksBranch=function(a){return a!==n?m(a):void 0},j=function(a){var b;return b=void 0,a.parentUid&&i(function(c){return c.uid===a.parentUid?b=c:void 0}),b},h=function(a,b){var c;return c=j(a),null!==c&&void 0!==c?(b(c),h(c,b)):void 0},f=function(a){return h(a,function(a){return a.expanded=!0,a.expanded})},b.treeRows=[],l=function(){var a,c,e,f,g,h;for(i(function(a){return a.uid?void 0:(a.uid=""+Math.random(),a.uid)}),i(function(a){var b,c,d,e,f;if(angular.isArray(a.children)){for(e=a.children,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.parentUid=a.uid);return f}}),b.treeRows=[],i(function(a){var b,c;return a.children?a.children.length>0?(c=function(a){return"string"==typeof a?{label:a,children:[]}:a},a.children=function(){var d,e,f,g;for(f=a.children,g=[],d=0,e=f.length;e>d;d++)b=f[d],g.push(c(b));return g}(),a.children):void 0:(a.children=[],a.children)}),a=function(c,e,f){var g,h,i,j,k,l,m;if(null===e.expanded&&(e.expanded=!1),i=e.children&&0!==e.children.length?e.expanded?d.iconCollapse:d.iconExpand:d.iconLeaf,b.treeRows.push({level:c,branch:e,label:e.label,treeIcon:i,visible:f}),null!==e.children&&void 0!==e.children){for(l=e.children,m=[],j=0,k=l.length;k>j;j++)g=l[j],h=f&&e.expanded,m.push(a(c+1,g,h));return m}},g=b.treeData,h=[],e=0,f=g.length;f>e;e++)c=g[e],h.push(a(1,c,!0));return h},b.$watch("treeData",l,!0),null!==d.initialSelection&&void 0!==d.initialSelection&&i(function(b){return b.label===d.initialSelection?a(function(){return m(b)}):void 0}),k=b.treeData.length,i(function(a,b){return a.level=b,a.expanded=a.level<g,a.expanded}),null!==b.treeControl&&void 0!==b.treeControl&&angular.isObject(b.treeControl)?(o=b.treeControl,o.expandAll=function(){return i(function(a){return a.expanded=!0,a.expanded})},o.collapseAll=function(){return i(function(a){return a.expanded=!1,a.expanded})},o.getFirstBranch=function(){return k=b.treeData.length,k>0?b.treeData[0]:void 0},o.selectFirstBranch=function(){var a;return a=o.getFirstBranch(),o.selectBranch(a)},o.getSelectedBranch=function(){return n},o.getParentBranch=function(a){return j(a)},o.selectBranch=function(a){return m(a),a},o.getChildren=function(a){return a.children},o.selectParentBranch=function(a){var b;return null===a&&(a=o.getSelectedBranch()),null!==a&&void 0!==a&&(b=o.getParentBranch(a),null!==b&&void 0!==b)?(o.selectBranch(b),b):void 0},o.addBranch=function(a,c){return null!==a&&void 0!==a?(a.children.push(c),a.expanded=!0):b.treeData.push(c),c},o.addRootBranch=function(a){return o.addBranch(null,a),a},o.expandBranch=function(a){return null===a&&(a=o.getSelectedBranch()),null!==a&&void 0!==a?(a.expanded=!0,a):void 0},o.collapseBranch=function(a){return null===a&&(a=n),null!==a&&void 0!==a?(a.expanded=!1,a):void 0},o.getSiblings=function(a){var c,d;return null===a&&(a=n),null!==a&&void 0!==a?(c=o.getParentBranch(a),d=c?c.children:b.treeData):void 0},o.getNextSibling=function(a){var b,c;return null===a&&(a=n),null!==a&&void 0!==a&&(c=o.getSiblings(a),k=c.length,b=c.indexOf(a),k>b)?c[b+1]:void 0},o.getPrevSibling=function(a){var b,c;return null===a&&(a=n),c=o.getSiblings(a),k=c.length,b=c.indexOf(a),b>0?c[b-1]:void 0},o.selectNextSibling=function(a){var b;return null===a&&(a=n),null!==a&&void 0!==a&&(b=o.getNextSibling(a),null!==b&&void 0!==b)?o.selectBranch(b):void 0},o.selectPrevSibling=function(a){var b;return null===a&&(a=n),null!==a&&void 0!==a&&(b=o.getPrevSibling(a),null!==b&&void 0!==b)?o.selectBranch(b):void 0},o.getFirstChild=function(a){var b;return null===a&&(a=n),null!==a&&void 0!==a&&(null!==(b=a.children)&&void 0!==(b=a.children)?b.length:void 0)>0?a.children[0]:void 0},o.getClosestAnsestorNextSibling=function(a){var b,c;return b=o.getNextSibling(a),null!==b&&void 0!==b?b:(c=o.getParentBranch(a),o.getClosestAnsestorNextSibling(c))},o.getNextBranch=function(a){var b;return null===a&&(a=n),null!==a&&void 0!==a?(b=o.getFirstChild(a),null!==b&&void 0!==b?b:b=o.getClosestAnsestorNextSibling(a)):void 0},o.selectNextBranch=function(a){var b;return null===a&&(a=n),null!==a&&void 0!==a&&(b=o.getNextBranch(a),null!==b&&void 0!==b)?(o.selectBranch(b),b):void 0},o.lastDecendant=function(a){var b;return k=a.children.length,0===k?a:(b=a.children[k-1],o.lastDecendant(b))},o.betPreviousBranch=function(a){var b,c;return null===a&&(a=n),null!==a&&void 0!==a?(c=o.getPrevSibling(a),null!==c&&void 0!==c?o.lastDecendant(c):b=o.getParentBranch(a)):void 0},o.selectPreviousBranch=function(a){var b;return null===a&&(a=n),null!==a&&void 0!==a&&(b=o.betPreviousBranch(a),null!==b&&void 0!==b)?(o.selectBranch(b),b):void 0},o.selectPreviousBranch):void 0}}}}]),app.directive("broadcastResults",["$timeout",function(a){return{template:"<div></div>",restrict:"AE",link:function(b){b.$on("dataloaded",function(b,c){a(c?function(){setupResults()}:function(){fullDetailsToggle()})})}}}]),angular.module("openstorefrontApp").directive("popover",function(){return function(a,b){b.popover()}}),app.controller("MainCtrl",["$scope","business","localCache","$location","$rootScope","$timeout",function(a,b,c,d,e){a.searchKey=e.searchKey,a.typeahead=null,a.typeahead=e.typeahead?e.typeahead:b.typeahead(b.getData,"name"),a.$on("$typeahead.select",function(b,c){void 0!==c?(a.goToSearch("search",a.searchKey),a.$apply()):(a.goToSearch("search","All"),a.$apply())}),a._scopename="main",a.pageTitle="DI2E",a.subTitle="Storefront",a.filters=b.getFilters(),a.filters=_.filter(a.filters,function(a){return a.showOnFront}),a.goToLand=!1,a.goToSearch=function(c,e){$(window).scrollTop(0),"search"===c?(b.search(c,a.searchKey),d.search("type",c),d.path("/results"),""===a.searchKey?d.search("code","All"):d.search("code",a.searchKey)):(b.search(c,e),d.path("/results"),d.search("type",c),d.search("code",e))},a.goToLanding=function(a,e,f){return $(window).scrollTop(0),c.save("landingType",e),c.save("landingCode",f),b.landingPage("landing",a,!0).then(function(){d.path("/landing")}),!1},e.$watch("searchKey",function(){a.searchKey=e.searchKey}),a.$watch("searchKey",function(){e.searchKey=a.searchKey}),setupMain()}]),app.controller("NavCtrl",["$scope","$location","$rootScope","business","$route","$timeout",function(a,b,c,d,e,f){a._scopename="nav",a.navLocation="views/nav/nav.html",a.searchKey=c.searchKey,a.typeahead=null,a.typeahead=c.typeahead?c.typeahead:d.typeahead(d.getData,"name"),a.$on("$typeahead.select",function(b,c){a.searchKey=c,void 0!==c?(a.goToSearch(),a.$apply()):(a.goToSearch(),a.$apply())}),a.$on("$changenav",function(b,c){a.navLocation=c}),a.goToSearch=function(){console.log("$scope.searchKey",a.searchKey),c.searchKey=a.searchKey,b.search({type:"search",code:a.searchKey}),d.search("search",a.searchKey,!0).then(function(){"/results"===b.path()?c.$broadcast("$callSearch"):b.path("/results")})},a.sendHome=function(){d.search("search",a.searchKey),b.path("/")},a.send=function(a){b.path(a)},c.$watch("searchKey",function(){a.searchKey=c.searchKey}),a.$watch("searchKey",function(){c.searchKey=a.searchKey}),a.$watch("navLocation",function(){f(function(){setUpDropdown("dropTheMenu")},500)})}]),app.controller("ResultsCtrl",["$scope","localCache","business","$filter","$timeout","$location","$rootScope","$q","$route",function(a,b,c,d,e,f,g,h){a._scopename="results",a.tagsList=c.getTagsList(),a.prosConsList=c.getProsConsList(),a.scoreCard=c.getScoreCard(),a.externalDepend=c.getExternalDepend(),a.localAssetArtifacts=c.getLocalAssetArtifacts(),a.componentVitals=c.getComponentVitals(),a.pointsContact=c.getPointsContact(),a.componentSummary=c.getComponentSummary(),a.componentEvalProgressBar=c.getComponentEvalProgressBar(),a.componentEvalProgressBarDates=c.getComponentEvalProgressBarDates(),a.componentState=c.getComponentState(),a.resultsComments=c.getResultsComments(),a.tagsList.sort(),a.lastUsed=new Date,a.expertise=[{value:"1",label:"Less than 1 month"},{value:"2",label:"Less than 3 months"},{value:"3",label:"Less than 6 months"},{value:"4",label:"Less than 1 year"},{value:"5",label:"Less than 3 years"},{value:"6",label:"More than 3 years"}],a.userRoles=[{code:"ENDUSER",description:"User"},{code:"DEV",description:"Developer"},{code:"PM",description:"Project Manager"}],a.tabs={current:null,bars:[{title:"Summary",include:"views/details/summary.html"},{title:"Details",include:"views/details/details.html"},{title:"Reviews",include:"views/details/reviews.html"},{title:"Comments",include:"views/details/comments.html"}]},a.selectedTab=a.tabs[0],a.setSelectedTab=function(b){a.selectedTab=b},a.tabClass=function(b){return a.selectedTab===b?"active":""},a.getTimes=function(a){return new Array(parseInt(a))},a.detailResultsTabs=[{title:"SUMMARY",content:"1",relpath:"views/details/summary.html"},{title:"DETAILS",content:"2",relpath:"views/details/details.html"},{title:"REVIEWS",content:"3",relpath:"views/details/reviews.html"},{title:"COMMENTS",content:"4",relpath:"views/details/comments.html"}],a.tab=a.detailResultsTabs[0],a.checkTagsList=function(a,b,c){var d=h.defer(),e=null;return e=" "===a?_.reject(c,function(a){return!!_.where(b,{text:a}).length}):_.filter(c,function(b){return b.toLowerCase().indexOf(a.toLowerCase())>-1}),d.resolve(e),d.promise},a.searchCode=null,a.searchTitle=null,a.searchDescription=null,a.details=null,a.isPage1=!0,a.showSearch=!1,a.showWatchButton=!1,a.showDetails=!1,a.orderProp="",a.query="",a.noDataMessage="You have filtered out all of the results.",a.typeahead=null,a.searchGroup=null,a.searchKey=null,a.filters=null,a.resetFilters=null,a.total=null,a.watches=null,a.ratingsFilter=0,a.isLanding=!1,a.single=!1,a.typeahead=g.typeahead?g.typeahead:c.typeahead(c.getData,"name"),a.filteredTotal=null,a.data=null,a.rowsPerPage=10,a.pageNumber=1,a.maxPageNumber=1;var i=function(a){var b=h.defer();return $.get(a).then(function(a){b.resolve(a)}),b.promise};a.reAdjust=function(b){a.searchGroup=b,a.searchKey=g.searchKey,a.total=c.getData(),a.watches=c.getWatches(),a.filteredTotal=a.total,a.$emit("$TRIGGERLOAD","filtersLoad"),a.$emit("$TRIGGERLOAD","mainLoader"),e(function(){a.filters=c.getFilters(),a.$emit("$TRIGGERUNLOAD","filtersLoad"),e(function(){a.data=a.total,_.each(a.data,function(a){a.shortdescription=a.description.match(/^(.*?)[.?!]\s/)[1]+"."}),a.$emit("$TRIGGERUNLOAD","mainLoader"),a.initializeData(b)},1500)},1500)},a.initializeData=function(){if(isEmpty(a.searchGroup))a.searchKey="DOALLSEARCH",a.showSearch=!0,a.searchTitle="All",a.modalTitle="All",a.searchDescription="Search all results",a.modalBody="The results found on this page are not restricted by any implied filters.";else{a.searchKey=a.searchGroup[0].key,a.searchCode=a.searchGroup[0].code;var b=_.pluck(a.filters,"key"),c=null,d=null;"single"===a.searchKey?(a.updateDetails(a.searchCode),a.single=!0):_.contains(b,a.searchKey)?(a.searchGroupItem=_.where(a.filters,{key:a.searchKey})[0],a.searchType=a.searchGroupItem.name,a.showSearch=!0,c=_.where(a.filters,{key:a.searchGroup[0].key})[0],d=_.where(c.collection,{code:a.searchGroup[0].code})[0],"all"!==a.searchCode?(a.searchColItem=_.where(a.searchGroupItem.collection,{code:a.searchCode})[0],a.searchTitle=a.searchType+", "+a.searchColItem.type,a.modalTitle=a.searchType+", "+a.searchColItem.type,a.searchDescription=a.searchColItem.desc,void 0!==d.landing&&null!==d.landing?i(d.landing).then(function(b){a.modalBody=b,a.isLanding=!0}):(a.modalBody=a.searchColItem.longDesc,a.isLanding=!1)):(a.searchTitle=a.searchType+", All",a.modalTitle=a.searchType+", All",a.searchDescription="The results on this page are restricted by an implied filter on the attribute: "+a.searchType,a.modalBody="This will eventually hold a description for this attribute type.",a.isLanding=!1),k()):"search"===a.searchGroup[0].key?(a.searchKey="DOALLSEARCH",a.showSearch=!0,a.searchTitle=a.searchGroup[0].code,a.modalTitle=a.searchGroup[0].code,a.searchDescription="Search resutls based on the search key: "+a.searchGroup[0].code,a.modalBody="The restuls on this page are restricted by an implied filter on words similar to the search key '"+a.searchGroup[0].code+"'"):(a.searchKey="DOALLSEARCH",a.showSearch=!0,a.searchTitle="All",a.modalTitle="All",a.searchDescription="Search all results",a.modalBody="The results found on this page are not restricted by any implied filters.")}a.applyFilters(),a.$broadcast("dataloaded",!a.single)};var j=function(){c.search(!1,!1,!0).then(function(b){var c="all",d="",e=null;null===b||void 0===b?(isEmpty(f.search())||(e=f.search(),e.type&&e.code&&(c=e.type,d=e.code)),a.reAdjust([{key:c,code:d}])):(c="",d="",isEmpty(f.search())||(e=f.search(),e.type&&e.code?(c=e.type,d=e.code):c="all",b=[{key:c,code:d}]),a.reAdjust(b))},function(b){console.error("ERROR: ",b);var c="all",d="";if(!isEmpty(f.search())){var e=f.search();e.type&&e.code&&(c=e.type,d=e.code)}a.reAdjust([{key:c,code:d}])})};a.toggleclass=function(a,b){toggleclass(a,b)},a.setupModal=function(b){var c=h.defer();return""!==b?(a.classes=b,a.nav={current:"Reviews",bars:[{title:"Write a Review",include:"views/reviews/newfeedback.html"}]},c.resolve()):(a.nav="",c.resolve()),""===b&&a.isLanding?a.classes="fullWidthModal":""===b&&(a.classes=""),c.promise},a.$on("$callSearch",function(){j()}),a.$on("$typeahead.select",function(){a.applyFilters()});var k=function(){a.searchGroup[0].key&&(a.filters=_.reject(a.filters,function(b){return b.key===a.searchGroup[0].key}),a.resetFilters=JSON.parse(JSON.stringify(a.filters)))};a.$on("$viewContentLoaded",function(){e(function(){moveButtons($("#showPageRight"),$(".page1")),moveButtons($("#showPageLeft"),$(".page2")),0===fullClick&&$(window).width()>=768&&openFiltersToggle()},100)}),a.$watch("pageNumber",function(b){a.pageNumber=parseInt(b),a.pageNumber<1&&(a.pageNumber=1),a.pageNumber>a.maxPageNumber&&(a.pageNumber=a.maxPageNumber);var c=a.pageNumber;(1>c||""===c||isNaN(c)||null===c)&&(c=1),a.data=a.filteredTotal?a.filteredTotal.slice((c-1)*a.rowsPerPage,c*a.rowsPerPage):[],a.applyFilters()}),a.$watch("rowsPerPage",function(){var b=a.rowsPerPage;(1>b||""===b||isNaN(b)||null===b)&&(b=1),a.pageNumber=1,a.maxPageNumber=Math.ceil(a.filteredTotal.length/b),a.applyFilters()}),a.$watch("orderProp",function(){a.applyFilters()}),a.$watch("query",function(){a.applyFilters()}),a.$watch("ratingsFilter",function(){a.applyFilters()}),a.$watch("filters",function(){_.each(a.filters,function(a){a.hasChecked=_.some(a.collection,function(a){return a.checked}),a.hasChecked||(a.checked=!1)})},!0),a.$on("$descModal",function(){void 0!==a.nav&&null!==a.nav&&(a.nav.current=g.current?g.current:"Reviews")}),a.doButtonOpen=function(){buttonOpen()},a.doButtonClose=function(){buttonClose()},a.toggleChecks=function(b,c){var d=!1;(void 0===c||null===c||""===c)&&(c=!1);var e=_.where(b,{checked:!0});d=c?!1:isEmpty(e)?!0:e.length!==b.length?!0:!1,_.each(b,function(a){a.checked=d}),a.applyFilters()},a.updateDetails=function(b){a.showWatchButton=!_.where(a.watches,{id:b}).length,openClick||buttonOpen();var c=_.where(a.data,{id:parseInt(b)})[0];c&&(a.details=c),a.showDetails=!0,a.getEvaluationState()},a.addToWatches=function(b){var d=_.findWhere(a.watches,{id:b});(void 0===d||isEmpty(d))&&a.watches.push({id:b,watched:!0}),a.showWatchButton=!1,c.setWatches(a.watches)},a.goToFullPage=function(a){f.search({type:"single",code:a}),f.path("/results")},a.saveTags=function(b,d){c.saveTags(b,d),a.applyFilters()},a.removeFromWatches=function(b){var d=_.findWhere(a.watches,{id:b});void 0===d||isEmpty(d)||a.watches.splice(_.indexOf(a.watches,d),1),a.showWatchButton=!0,c.setWatches(a.watches)},a.viewWatches=function(){f.path("/userprofile")},a.getEvaluationState=function(){if(a.details&&void 0!==a.details.evaluationLevel){var b=a.details.evaluationLevel[0].code,c=_.where(a.filters,{key:"evaluationLevel"})[0],d=_.where(c.collection,{code:b})[0];return d.type}return""},a.clearFilters=function(){a.orderProp="",a.ratingsFilter=null,a.tagsFilter=null,a.query=null,a.filters=JSON.parse(JSON.stringify(a.resetFilters)),a.applyFilters()},a.applyFilters=function(){var b=d("orderBy")(d("ratingFilter")(d("tagFilter")(d("componentFilter")(d("filter")(a.total,a.query),a.filters),a.tagsFilter),a.ratingsFilter),a.orderProp);a.filteredTotal=[""],a.filteredTotal=b,a.maxPageNumber=Math.ceil(a.filteredTotal.length/a.rowsPerPage),(a.pageNumber-1)*a.rowsPerPage>=a.filteredTotal.length&&(a.pageNumber=1),a.data=a.filteredTotal.slice((a.pageNumber-1)*a.rowsPerPage,a.pageNumber*a.rowsPerPage),e(function(){setupPopovers()},300)},j()}]),app.controller("UserProfileCtrl",["$scope","business","$rootScope",function(a,b,c){a._scopename="userprofile",a.pageTitle="DI2E Storefront Catalog",a.defaultTitle="Browse Categories",a.watches=b.getWatches(),a.total=b.getData(),a.feedbackDetails=[{id:"1",date:"Jan 4, 2014 8:25 am",comments:"This VANTAGE WESS OZONE Widget is really cool",author:"Jim Calhoun"},{id:"2",date:"01/05/2014 9:25 am",comments:"This VANTAGE WESS OZONE Widget is really cool",author:"Jill Calhoun"},{id:"3",date:"01/06/2014 10:25 am",comments:"This VANTAGE WESS OZONE Widget is really cool",author:"Jay Calhoun"}],a.user={userName:"John Q. Sample",userRole:"Admin",userMemberSince:"01/10/2012",userEmail:"john.q.sample@gmail.com"},a.userBackup=jQuery.extend(!0,{},a.user);var d=0,e=["images/wess_logo.png","images/core-map-api.png","images/maps-icon.png"];a.nav={current:null,bars:[{title:"User Profile",include:"views/userprofiletab.html"},{title:"Watches",include:"views/watchestab.html"},{title:"Component Feedback",include:"views/feedbacktab.html"}]},c.$on("$profileModal",function(){a.nav.current=c.current?c.current:"User Profile",f()});var f=function(){a.data=[],_.each(a.watches,function(b){_.each(_.where(a.total,{id:b.id}),function(c){d>2&&(d=0),c.src=e[d],d+=1,c.watched=b.watched,a.data.push(c)})})};f(),a.saveProfileChanges=function(){a.userBackup=jQuery.extend(!0,{},a.user)},a.revertProfileChanges=function(){a.user=jQuery.extend(!0,{},a.userBackup)},a.removeFromWatches=function(c){var d=_.findWhere(a.watches,{id:c});void 0===d||isEmpty(d)||a.watches.splice(_.indexOf(a.watches,d),1),a.showWatchButton=!0,b.setWatches(a.watches),f()}}]),app.controller("AdminCtrl",["$scope","business",function(a,b){a.myTree={},a.filters=b.getFilters(),a.collection=null,a.collectionSelection=null,a.incLoc="",a.data=[],a.editedTopic="Types",a.toolTitle="idAM Landing Page",a.saveContent="",a.landingRoute||b.landingPage("IDAM","views/temp/landingpage.html",!0).then(function(){b.landingPage(!1,!1,!0).then(function(b){a.landingRoute=b.value})}),a.$watch("landingRoute",function(){$.get(a.landingRoute).then(function(b){a.editorContent=a.parseForEditor(b),a.$apply()})}),a.$watch("editorContent",function(){a.saveData()}),function(){var b={};b.label="Manage Attributes",b.location="views/admin/editattributes.html",b.children=[],b.toolTitle="Manage Attributes",b.key="attributes",b.parentKey=null,b.data=a.filters,b.children.push({label:"Manage Codes",location:"views/admin/editcodes.html",toolTitle:"Manage Attribute Codes",key:"codes",parentKey:"attributes"}),b.children.push({label:"Manage Landing Pages",location:"views/admin/editlanding.html",toolTitle:"Manage Attribute Landing Pages",key:"landing",parentKey:"attributes"});var c={label:"Manage Lookups",location:"views/admin/manageLookups.html",children:[{label:"Reviews PROs List",location:"views/admin/manageProsList.html",toolTitle:"Manage PROs List",key:"REVIEW_PROS",parentKey:"LOOKUP"},{label:"Reviews CONs List",location:"views/admin/manageConsList.html",toolTitle:"Manage CONs List",key:"REVIEW_CONS",parentKey:"LOOKUP"}],toolTitle:"Manage lookups tables",key:"LOOKUP",parentKey:null};
a.data.push({label:"About Admin Tools",location:"views/admin/about.html",toolTitle:"About Admin Tools",key:"tools"}),a.data.push(b),a.data.push(c),a.data.push({label:"Manage Components",location:"views/admin/editcomponents.html",toolTitle:"Manage Components",key:"components"}),a.data.push({label:"Manage Branding",location:"views/admin/editbranding.html",toolTitle:"Manage Branding",key:"branding"})}(),a.editor=function(b){a.incLoc=b.location,a.toolTitle=b.toolTitle,a.myTree.selectBranch(b)};var c=function(a,b,d){for(;a[b];){if(a[b].key===d)return a[b];if(a[b].children&&a[b].children.length>0)return c(a[b].children,0,d);b+=1}return null};a.editCollection=function(b){var d=c(a.data,0,"codes");a.collectionSelection=_.where(a.filters,{key:b})[0],a.editor(d)},a.editLanding=function(b){var d=c(a.data,0,"landing");a.landingRoute=b,a.editor(d)},a.checkParent=function(){var b=a.myTree.getSelectedBranch();return b?a.myTree.getParentBranch(b):!1},a.goToParent=function(){a.editor(a.checkParent())},a.parseComponentInsert=function(a){if(null!==a&&void 0!==a&&""!==a){var b=a,c=b.split("### Component List ###");return b=c.join('\n<component-list click-callback="updateDetails" class-list="" data="data" cols="3" ></component-list>\n')}return a},a.parseForEditor=function(a){if(null!==a&&void 0!==a&&""!==a){var b=new DOMParser,c=b.parseFromString(a,"text/html");return $(c).find("component-list").replaceWith("### Component List ###"),$(c).find("body").html()}return a},a.saveData=function(){a.saveContent=a.parseComponentInsert(a.editorContent)},a.editorOptions=getCkConfig()}]),app.controller("LandingCtrl",["$scope","business","localCache","$location",function(a,b,c,d){a.landingRoute=null,b.landingPage(!1,!1,!0).then(function(b){a.landingRoute=b.value}),a.sendToResults=function(){var a=c.get("landingType"),b=c.get("landingCode");d.search(a&&b?{type:a,code:b}:{type:"categories",code:"IDAM"}),d.path("/results")}}]),app.controller("AdminEditattributesCtrl",["$scope","business",function(a,b){a.filters=b.getFilters(),a.gridOptions={data:"filters",enableCellSelection:!0,enableRowSelection:!0,enableCellEdit:!0,multiSelect:!0,selectWithCheckboxOnly:!0,showSelectionCheckbox:!0,columnDefs:[{field:"name",displayName:"Name",enableCellEdit:!0},{field:"key",displayName:"Code",maxWidth:150,enableCellEdit:!0},{field:"src",displayName:"Icon Src",enableCellEdit:!0},{field:"key",displayName:"Collection",maxWidth:150,cellTemplate:'<div class="ngCellText" ng-click="editCollection(row.getProperty(col.field))"><a>Edit Code Collection</a></div>',enableCellEdit:!1,groupable:!1,sortable:!1}]},a.$watch("filters",function(){},!0)}]),app.controller("AdminEditcodesCtrl",["$scope","business",function(a,b){a.filters=b.getFilters(),a.collectionContent=null,a.grabCollection=function(b){var c=_.where(a.filters,{key:b})[0];a.collectionContent=c.collection},a.collection=[],_.each(a.filters,function(b){a.collection.push({name:b.name,key:b.key})}),a.$parent.collectionSelection&&(a.collectionSelection=_.where(a.collection,{key:a.collectionSelection.key})[0],a.grabCollection(a.collectionSelection.key)),a.gridOptions={data:"collectionContent",enableCellSelection:!0,enableRowSelection:!0,enableCellEdit:!0,multiSelect:!0,selectWithCheckboxOnly:!0,showSelectionCheckbox:!0,columnDefs:[{field:"type",displayName:"Name",width:"***",resizable:!1,enableCellEdit:!0},{field:"code",displayName:"Code",width:"**",resizable:!1,enableCellEdit:!0},{field:"desc",displayName:"Description",width:"***",enableCellEdit:!0},{field:"longDesc",displayName:"Long Description",width:"****",enableCellEdit:!0},{field:"checked",displayName:"Apply Filter",width:"**",resizable:!1,enableCellEdit:!1,cellTemplate:'<div class="ngSelectionCell "><input class="" type="checkbox" ng-checked="row.getProperty(col.field)" ng-model="COL_FIELD"/></div>'},{field:"landing",displayName:"Landing Page",width:"***",resizable:!1,cellTemplate:'<div ng-if="row.getProperty(col.field)" class="imitateLink ngCellText " ng-click="editLanding(row.getProperty(col.field))"><a>Edit Landing Page</a></div> <div ng-if="!row.getProperty(col.field)" class="imitateLink ngCellText " ng-click="editLanding(\'\')"><a>Add Landing Page</a></div>',enableCellEdit:!1,groupable:!1,sortable:!1}]},a.$watch("collectionContent",function(){},!0)}]),angular.module("openstorefrontApp").directive("loader",function(){return{template:'<div class="loader-holder modal-backdrop" ng-show="loading"><div class="loader"><!--[if lt IE 10]><span>...Loading...</span><![endif]--></div></div>',restrict:"E",scope:{trigger:"@trigger"},link:function(a){a.loading=!1,a.$on("$LOAD",function(b,c){c===a.trigger&&(a.loading=!0)}),a.$on("$UNLOAD",function(b,c){c===a.trigger&&(a.loading=!1)})}}}),app.filter("componentFilter",function(){var a=function(a){var b=_.every(a,function(a){return a.checked===!1}),c=_.every(a,function(a){return a.checked===!0});return b||c};return function(b,c){var d=null;return d=_.filter(b,function(b){return _.every(c,function(c){var d=c.collection,e=c.key;return a(d)?!0:_.some(d,function(a){if(a.checked===!0){var c=_.pluck(b[e],"code");return _.contains(c,a.code)}return!1})})})}}),app.filter("partition",function(){var a={},b=function(b,c){if(b){for(var d=[],e=0;e<b.length;e+=c)d.push(b.slice(e,e+c));var f=JSON.stringify(b),g=a[f+c];return JSON.stringify(g)===JSON.stringify(d)?g:(a[f+c]=d,d)}};return b}),app.filter("tagFilter",function(){return function(a,b){if(isEmpty(b))return a;var c=null;return c=_.filter(a,function(a){return _.every(b,function(b){return _.some(a.assetTags,function(a){return b.text===a.text})})})}}),app.filter("ratingFilter",function(){return function(a,b){if(!isNaN(b)&&b>=0&&5>=b){var c=null;return c=_.filter(a,function(a){return a.stats.averageRating>=b})}return a}});var setupMain=function(){$(window).resize(function(){void 0!==$(".defaultSearch")&&setTimeout(function(){$(".defaultSearch").data("offset",$(".defaultSearch"))&&$(".defaultSearch").data("offset",$(".defaultSearch").offset())&&($(".defaultSearch").data("offset",$(".defaultSearch").offset().top+parseInt($(".defaultSearch").css("padding-top"),10)-52),floatBelowTop($(".defaultSearch"),768,$(window),$(".top").height()))},10)}),$(window).scroll(function(){$(".defaultSearch")&&floatBelowTop($(".defaultSearch"),768,$(window),$(".top").height())}),$(document).ready(function(){$(".defaultSearch")&&setTimeout(function(){$(".defaultSearch").data("offset",$(".defaultSearch"))&&$(".defaultSearch").data("offset",$(".defaultSearch").offset())&&($(".defaultSearch").data("offset",$(".defaultSearch").offset().top+parseInt($(".defaultSearch").css("padding-top"),10)-52),floatBelowTop($(".defaultSearch"),768,$(window),$(".top").height()))},10)})},resizeAnimations=function(){var a=$(".page2"),b=$(".page1"),c=$(".filters"),d=$(window).width();if(767>d?fullClick||(resetAnimations(a,b,c),resetAnimGlobals()):fullClick?setPageMargin(a,!1):setPageMargin(a,!0),992>=d&&openClick&&filtClick){var e=$(".pagination"),f=$(window).width();unStretchFilterbutton(),closeFilter(c,b,a,e,f),filtClick=0}setPageHeight($(".resultsContainer"),0),setRightOpenWidth(a),setLeftOpenWidth(b),setPageHeight(c,52),setPageHeight(b,40),setPageHeight(a,52),$("#filtersButton").data("offset","0"),floatBelowTop($("#filtersButton"),3e3,$(".page1"),52),moveButtons($("#showPageRight"),$(".page1")),moveButtons($("#showPageLeft"),$(".page2"))},setupResults=function(){$("#filtersButton").on("mouseenter",function(){filtClick||$(".filtersButton").stop(!0,!0).animate({"margin-left":"0px"},200,function(){})}),$("#filtersButton").on("mouseleave",function(){filtClick||$(".filtersButton").stop(!0,!0).animate({"margin-left":"-55px"},200,function(){})}),$(".pagination :input").on("blur",function(){(isNaN($(this).val())||""===$(this).val())&&($(this).val($(this).data("default")),$(this).trigger("input"))}),$(".pagination").on("mouseleave",function(){var a=$(".page1");a.css("overflow","auto")}),$(".pagination").on("mouseenter",function(){var a=$(".page1");a.css("overflow","hidden")}),$(".page1").scroll(function(){floatBelowTop($("#filtersButton"),3e3,$(".page1"),52),moveButtons($("#showPageRight"),this)}),$(".page2").scroll(function(){moveButtons($("#showPageLeft"),this)}),$(document).ready(function(){resizeAnimations()}),$(window).resize(function(){resizeAnimations()})},openClick=0,fullClick=0,filtClick=0,resetStyles=function(a){a.attr("style","")},floatBelowTop=function(a,b,c,d){if(c.width()<=b){var e=a.data("offset"),f=c.scrollTop();f>e?a.css({position:"fixed",top:d+"px","z-index":"1010",padding:"0px",margin:"0px"}):resetStyles(a)}else resetStyles(a)},moveButtons=function(a,b){var c=$(b).scrollTop(),d=$(b).height()/2,e=c+d-45;a.css({top:e+"px"})},setRightOpenWidth=function(a){var b,c=400;1===filtClick&&(c=650),b=fullClick?$(window).width():$(window).width()-c,a.css({width:b+"px"})},setLeftOpenWidth=function(a){var b=$(window).width();1===filtClick?(1===openClick&&(b=650),b-=250):1===openClick&&(b=400),a.css({width:b+"px"})},setPageHeight=function(a,b){var c=$(window).height();a.css({height:c-b+"px"})},setPageMargin=function(a,b){var c=$(window).height()-40;a.css(b?{"margin-top":"-"+c+"px"}:{"margin-top":"0px"})},stretchFilterbutton=function(){var a=$(".filtersButton");a.stop(!0,!0).animate({width:"248px","margin-left":"-250px"},200,function(){})},unStretchFilterbutton=function(){var a=$(".filtersButton");a.stop(!0,!0).animate({width:"74px","margin-left":"-55px"},200,function(){})},openDetails=function(a,b,c){b.css({display:"inherit"});var d=$(window).height()-$(".top").height()-40;setPageMargin(b,-d);var e=400;1===filtClick&&(e=650);var f=c-e;a.stop(!0,!0).animate({width:"400px"},200,function(){}),b.stop(!0,!0).animate({"margin-left":"-="+f+"px",width:c-e+"px"},200,function(){})},closeDetails=function(a,b,c){a.css({display:"inherit"});var d=$(window).height()-$(".top").height()-40;setPageMargin(b,-d);var e=c;1===filtClick&&(e=c-250),a.stop(!0,!0).animate({width:e+"px"},200,function(){}),b.stop(!0,!0).animate({width:"0px","margin-left":"100%"},200,function(){b.css({width:"100%"})})},openFullDetails=function(a,b,c){b.css({display:"inherit"}),a.stop(!0,!0).animate({width:"0px"},200,function(){a.css({display:"none"}),b.css({"margin-top":"0px"}),c.css({display:"none"})}),b.stop(!0,!0).animate({width:"100%","margin-left":"0px"},200,function(){})},closePartialDetails=function(a,b,c,d){var e=400,f=0;1===filtClick&&(f=250),a.css({display:"inherit"}),c.css({display:"inherit"});var g=$(window).height()-$(".top").height()-40;setPageMargin(b,-g),a.stop(!0,!0).animate({width:e+"px"},200,function(){}),b.stop(!0,!0).animate({width:d-e-f+"px","margin-left":e+f+"px"},200,function(){})},openFilter=function(a,b,c,d,e){b.css({display:"inherit"}),a.css({display:"inherit"});var f=$(window).height()-$(".top").height()-40;setPageMargin(c,-f),1===openClick?(b.stop(!0,!0).animate({"margin-left":"250px"},200,function(){}),d.stop(!0,!0).animate({"margin-right":"-250px"},200,function(){}),a.stop(!0,!0).animate({width:"250px"},200,function(){}),c.stop(!0,!0).animate({"margin-left":"650px",width:e-650+"px"},200,function(){})):(b.stop(!0,!0).animate({"margin-left":"250px",width:e-250+"px"},200,function(){}),d.stop(!0,!0).animate({"margin-right":"-250px"},200,function(){}),a.stop(!0,!0).animate({width:"250px"},200,function(){}))},closeFilter=function(a,b,c,d,e){b.css({display:"inherit"});var f=$(window).height()-$(".top").height()-40;setPageMargin(c,-f),1===openClick?(b.stop(!0,!0).animate({"margin-left":"0px"},200,function(){}),d.stop(!0,!0).animate({"margin-right":"0px"},200,function(){}),a.stop(!0,!0).animate({width:"0px"},200,function(){a.css({display:"none"})}),c.stop(!0,!0).animate({"margin-left":"400px",width:e-400+"px"},200,function(){})):(b.stop(!0,!0).animate({"margin-left":"0px",width:"100%"},200,function(){}),d.stop(!0,!0).animate({"margin-right":"0px"},200,function(){}),a.stop(!0,!0).animate({width:"0px"},200,function(){a.css({display:"none"})}))},openWindowToggle=function(){moveButtons($("#showPageRight"),$(".page1")),moveButtons($("#showPageLeft"),$(".page2"));var a=$(window).width(),b=$(".page1"),c=$(".page2");setTimeout(function(){0===openClick?(992>=a&&filtClick&&openFiltersToggle(),openDetails(b,c,a),openClick=1):(closeDetails(b,c,a),openClick=0)},100)},fullDetailsToggle=function(){moveButtons($("#showPageRight"),$(".page1")),moveButtons($("#showPageLeft"),$(".page2"));var a=$(window).width(),b=$(window).height(),c=$(".filters"),d=$(".page1"),e=$(".page2");e.css({height:b-52+"px"});$(".pagination");setTimeout(function(){0===fullClick?(openFullDetails(d,e,c,a),fullClick=1):1===fullClick&&(closePartialDetails(d,e,c,a),fullClick=0)},100)},closeDetailsFull=function(){moveButtons($("#showPageRight"),$(".page1")),moveButtons($("#showPageLeft"),$(".page2"));var a=$(window).width(),b=$(".page1"),c=$(".page2");setTimeout(function(){closeDetails(b,c,a),fullClick=0},100)},openFiltersToggle=function(){var a=$(window).width(),b=$(".page1"),c=$(".filters"),d=$(".page2"),e=$(".pagination");setTimeout(function(){0===filtClick?(992>=a&&openClick&&openWindowToggle(),stretchFilterbutton(),openFilter(c,b,d,e,a),filtClick=1):(unStretchFilterbutton(),closeFilter(c,b,d,e,a),filtClick=0)},100)},buttonOpen=function(){if($(window).width()>767)if(openClick){if(fullClick)return;fullDetailsToggle()}else openWindowToggle();else if(openClick){if(fullClick)return;fullDetailsToggle()}else openClick=1,fullDetailsToggle()},buttonClose=function(){if($(window).width()>767){if(!openClick)return;fullClick?fullDetailsToggle():openWindowToggle()}else{if(!openClick)return;fullClick?(fullClick=0,openWindowToggle()):openWindowToggle()}},resetAnimGlobals=function(){openClick=0,fullClick=0,filtClick=0},resetAnimations=function(a,b,c){unStretchFilterbutton(),resetStyles(a),resetStyles(b),resetStyles(c),resetAnimGlobals()},setupPopovers=function(){$("[data-toggle='popover']").length>2&&$(".lastPopover[data-toggle='popover']").last().popover({trigger:"hover",placement:"top",html:!0}),$("[data-toggle='popover']").popover({trigger:"hover",placement:"bottom",html:!0})},toggleclass=function(a,b){$("#"+a).toggleClass(b)},setUpDropdown=function(a){$("#"+a).on("click",function(a){a.stopPropagation(),$(this).next(".dropdown").find("[data-toggle=dropdown]").dropdown("toggle")})},hasOwnProperty2=Object.prototype.hasOwnProperty,setupParallax=function(){setTimeout(function(){var a=$(".banner").width(),b=$(".banner").height(),c=5,d=.2;_.each($(".parallax-layer"),function(e){$(e).css("width",a+c+"px"),$(e).css("height",b+c+"px"),c+=25,d+=.02}),jQuery(".parallax-layer").parallax({mouseport:jQuery("#port")})},10)};CKEDITOR.plugins.add("componentList",{init:function(a){a.addCommand("insertComponentList",{exec:function(a){a.insertHtml("### Component List ###")}}),a.ui.addButton("ComponentButton",{label:"Insert Component List",command:"insertComponentList",icon:this.path+"../../../../images/yeoman.png"})}}),CKEDITOR.plugins.registered.save={init:function(a){a.addCommand("save",{modes:{wysiwyg:1,source:1},exec:function(a){a.fire("save")}});a.ui.addButton("Save",{label:"My Save",command:"save"})}};var getCkConfig=function(){var a={};return a.scayt_autoStartup=!0,a.extraPlugins="font,componentList",a.extraAllowedContent="component-list(*)[*]{*}",a.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]}],a.toolbar="Full",a.toolbar_Full=[{name:"document",items:["Source","-","Save","DocProps","Preview","Print","-","Templates"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","SpellChecker","Scayt"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},"/",{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks","-","About"]},{name:"CusomtTools",items:["ComponentButton"]}],a.enterMode=CKEDITOR.ENTER_BR,a.height="500px",a};!function(){if(!window.localStorage){if(window.globalStorage){try{window.localStorage=window.globalStorage}catch(a){}return}var b=document.createElement("div"),c="localStorage";if(b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior){b.addBehavior("#default#userdata");var d=window.localStorage={length:0,setItem:function(a,d){b.load(c),a=e(a),b.getAttribute(a)||this.length++,b.setAttribute(a,d),b.save(c)},getItem:function(a){return b.load(c),a=e(a),b.getAttribute(a)},removeItem:function(a){b.load(c),a=e(a),b.removeAttribute(a),b.save(c),this.length--,this.length<0&&(this.length=0)},clear:function(){b.load(c);for(var a=0;attr=b.XMLDocument.documentElement.attributes[a++];)b.removeAttribute(attr.name);b.save(c),this.length=0},key:function(a){return b.load(c),b.XMLDocument.documentElement.attributes[a]}},e=function(a){return a.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")};b.load(c),d.length=b.XMLDocument.documentElement.attributes.length}}if(!window.sessionStorage){if(window.globalStorage){try{window.sessionStorage=window.globalStorage}catch(a){}return}var b=document.createElement("div"),c="sessionStorage";if(b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior){b.addBehavior("#default#userdata");var f=window.sessionStorage={length:0,setItem:function(a,d){b.load(c),a=e(a),b.getAttribute(a)||this.length++,b.setAttribute(a,d),b.save(c)},getItem:function(a){return b.load(c),a=e(a),b.getAttribute(a)},removeItem:function(a){b.load(c),a=e(a),b.removeAttribute(a),b.save(c),this.length--,this.length<0&&(this.length=0)},clear:function(){b.load(c);for(var a=0;attr=b.XMLDocument.documentElement.attributes[a++];)b.removeAttribute(attr.name);b.save(c),this.length=0},key:function(a){return b.load(c),b.XMLDocument.documentElement.attributes[a]}},e=function(a){return a.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")};b.load(c),f.length=b.XMLDocument.documentElement.attributes.length}}}(),function(a){var b={init:function(c){return this.each(function(){this.self=a(this),b.destroy.call(this.self),this.opt=a.extend(!0,{},a.fn.raty.defaults,c),b._adjustCallback.call(this),b._adjustNumber.call(this),"img"!==this.opt.starType&&b._adjustStarType.call(this),b._adjustPath.call(this),b._createStars.call(this),this.opt.cancel&&b._createCancel.call(this),this.opt.precision&&b._adjustPrecision.call(this),b._createScore.call(this),b._apply.call(this,this.opt.score),b._target.call(this,this.opt.score),this.opt.readOnly?b._lock.call(this):(this.style.cursor="pointer",b._binds.call(this)),this.self.data("options",this.opt)})},_adjustCallback:function(){for(var a=["number","readOnly","score","scoreName","target"],b=0;b<a.length;b++)"function"==typeof this.opt[a[b]]&&(this.opt[a[b]]=this.opt[a[b]].call(this))},_adjustNumber:function(){this.opt.number=b._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0,this.opt.targetType="score"},_adjustStarType:function(){this.opt.path="";for(var a=["cancelOff","cancelOn","starHalf","starOff","starOn"],b=0;b<a.length;b++)this.opt[a[b]]=this.opt[a[b]].replace(".","-")},_apply:function(a){b._fill.call(this,a),a&&(a>0&&this.score.val(b._between(a,0,this.opt.number)),b._roundStars.call(this,a))},_between:function(a,b,c){return Math.min(Math.max(parseFloat(a),b),c)},_binds:function(){this.cancel&&(b._bindOverCancel.call(this),b._bindClickCancel.call(this),b._bindOutCancel.call(this)),b._bindOver.call(this),b._bindClick.call(this),b._bindOut.call(this)},_bindClick:function(){var b=this;b.stars.on("click.raty",function(c){var d=a(this);b.score.val(b.opt.half||b.opt.precision?b.self.data("score"):this.alt||d.data("alt")),b.opt.click&&b.opt.click.call(b,+b.score.val(),c)})},_bindClickCancel:function(){var a=this;a.cancel.on("click.raty",function(b){a.score.removeAttr("value"),a.opt.click&&a.opt.click.call(a,null,b)})},_bindOut:function(){var a=this;a.self.on("mouseleave.raty",function(c){var d=+a.score.val()||void 0;b._apply.call(a,d),b._target.call(a,d,c),a.opt.mouseout&&a.opt.mouseout.call(a,d,c)})},_bindOutCancel:function(){var a=this;a.cancel.on("mouseleave.raty",function(c){var d=a.opt.cancelOff;if("img"!==a.opt.starType&&(d=a.opt.cancelClass+" "+d),b._setIcon.call(a,this,d),a.opt.mouseout){var e=+a.score.val()||void 0;a.opt.mouseout.call(a,e,c)}})},_bindOver:function(){var a=this,c=a.opt.half?"mousemove.raty":"mouseover.raty";a.stars.on(c,function(c){var d=b._getScoreByPosition.call(a,c,this);b._fill.call(a,d),a.opt.half&&(b._roundStars.call(a,d),a.self.data("score",d)),b._target.call(a,d,c),a.opt.mouseover&&a.opt.mouseover.call(a,d,c)})},_bindOverCancel:function(){var a=this;a.cancel.on("mouseover.raty",function(c){var d=a.opt.path+a.opt.starOff,e=a.opt.cancelOn;"img"===a.opt.starType?a.stars.attr("src",d):(e=a.opt.cancelClass+" "+e,a.stars.attr("class",d)),b._setIcon.call(a,this,e),b._target.call(a,null,c),a.opt.mouseover&&a.opt.mouseover.call(a,null)})},_buildScoreField:function(){return a("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var b=this.opt.path+this.opt.cancelOff,c=a("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?c.attr({src:b,alt:"x"}):c.attr("data-alt","x").addClass(b),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(c):this.self.append("&#160;").append(c),this.cancel=c},_createScore:function(){var c=a(this.opt.targetScore);this.score=c.length?c:b._buildScoreField.call(this)},_createStars:function(){for(var c=1;c<=this.opt.number;c++){var d=b._nameForIndex.call(this,c),e={alt:c,src:this.opt.path+this.opt[d]};"img"!==this.opt.starType&&(e={"data-alt":c,"class":e.src}),e.title=b._getHint.call(this,c),a("<"+this.opt.starType+" />",e).appendTo(this),this.opt.space&&this.self.append(c<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(b){a(this).text(b),a.error(b)},_fill:function(a){for(var c=0,d=1;d<=this.stars.length;d++){var e,f=this.stars[d-1],g=b._turnOn.call(this,d,a);if(this.opt.iconRange&&this.opt.iconRange.length>c){var h=this.opt.iconRange[c];e=b._getRangeIcon.call(this,h,g),d<=h.range&&b._setIcon.call(this,f,e),d===h.range&&c++}else e=this.opt[g?"starOn":"starOff"],b._setIcon.call(this,f,e)}},_getRangeIcon:function(a,b){return b?a.on||this.opt.starOn:a.off||this.opt.starOff},_getScoreByPosition:function(c,d){var e=parseInt(d.alt||d.getAttribute("data-alt"),10);if(this.opt.half){var f=b._getSize.call(this),g=parseFloat((c.pageX-a(d).offset().left)/f);e=this.opt.precision?e-1+g:e-1+(g>.5?1:.5)}return e},_getSize:function(){var a;return a="img"===this.opt.starType?this.stars[0].width:parseFloat(this.stars.eq(0).css("font-size")),a||b._error.call(this,"Could not be possible get the icon size!"),a},_turnOn:function(a,b){return this.opt.single?a===b:b>=a},_getHint:function(a){var b=this.opt.hints[a-1];return""===b?"":b||a},_lock:function(){var a=parseInt(this.score.val(),10),c=a?b._getHint.call(this,a):this.opt.noRatedMsg;this.style.cursor="",this.title=c,this.score.prop("readonly",!0),this.stars.prop("title",c),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(a){return this.opt.score&&this.opt.score>=a?"starOn":"starOff"},_roundStars:function(a){var c=(a%1).toFixed(2);if(c>this.opt.round.down){var d="starOn";this.opt.halfShow&&c<this.opt.round.up?d="starHalf":c<this.opt.round.full&&(d="starOff");var e=this.opt[d],f=this.stars[Math.ceil(a)-1];b._setIcon.call(this,f,e)}},_setIcon:function(a,b){a["img"===this.opt.starType?"src":"className"]=this.opt.path+b},_setTarget:function(a,b){b&&(b=this.opt.targetFormat.toString().replace("{score}",b)),a.is(":input")?a.val(b):a.html(b)},_target:function(c,d){if(this.opt.target){var e=a(this.opt.target);e.length||b._error.call(this,"Target selector invalid or missing!");var f=d&&"mouseover"===d.type;if(void 0===c)c=this.opt.targetText;else if(null===c)c=f?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?c=b._getHint.call(this,Math.ceil(c)):this.opt.precision&&(c=parseFloat(c).toFixed(1));var g=d&&"mousemove"===d.type;f||g||this.opt.targetKeep||(c=this.opt.targetText)}b._setTarget.call(this,e,c)}},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var a=0;a<this.opt.number;a++)this.stars[a].title=b._getHint.call(this,a+1);this.cancel&&this.cancel.css("display","")},cancel:function(c){return this.each(function(){var d=a(this);d.data("readonly")!==!0&&(b[c?"click":"score"].call(d,null),this.score.removeAttr("value"))})},click:function(c){return this.each(function(){a(this).data("readonly")!==!0&&(b._apply.call(this,c),this.opt.click&&this.opt.click.call(this,c,a.Event("click")),b._target.call(this,c))})},destroy:function(){return this.each(function(){var b=a(this),c=b.data("raw");c?b.off(".raty").empty().css({cursor:c.style.cursor}).removeData("readonly"):b.data("raw",b.clone()[0])})},getScore:function(){var a,b=[];return this.each(function(){a=this.score.val(),b.push(a?+a:void 0)}),b.length>1?b:b[0]},move:function(c){return this.each(function(){var d=parseInt(c,10),e=a(this).data("options"),f=(+c).toFixed(1).split(".")[1];d>=e.number&&(d=e.number-1,f=10);var g=b._getSize.call(this),h=g/10,i=a(this.stars[d]),j=i.offset().left+h*parseInt(f,10),k=a.Event("mousemove",{pageX:j});i.trigger(k)})},readOnly:function(c){return this.each(function(){var d=a(this);d.data("readonly")!==c&&(c?(d.off(".raty").children("img").off(".raty"),b._lock.call(this)):(b._binds.call(this),b._unlock.call(this)),d.data("readonly",c))})},reload:function(){return b.set.call(this,{})},score:function(){var c=a(this);return arguments.length?b.setScore.apply(c,arguments):b.getScore.call(c)},set:function(b){return this.each(function(){var c=a(this),d=c.data("options"),e=a.extend({},d,b);c.raty(e)})},setScore:function(c){return this.each(function(){a(this).data("readonly")!==!0&&(b._apply.call(this,c),b._target.call(this,c))})}};a.fn.raty=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist!"):b.init.apply(this,arguments)},a.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),function(a,b){function c(a){return z.exec(a)?parseFloat(a)/100:a}function d(a){function b(){n.pointer=f(C,[!0,!0],k,j)}function c(){j=g(a),k=h(a),n.threshold=i(j)}function d(){n.timer.add(b)}function e(a){n.timer.remove(b),n.pointer=f([a.pageX,a.pageY],[!0,!0],k,j)}var j,k,l={"mouseenter.parallax":d,"mouseleave.parallax":e},m={"resize.parallax":c},n={elem:a,events:l,winEvents:m,timer:new D};return A.on(m),a.on(l),c(),n}function e(a,b,c){var d=a.data(b);return d||(d=c?c(a):{},a.data(b,d)),d}function f(a,b,c,d){for(var e=[],f=2;f--;)e[f]=(a[f]-c[f])/d[f],e[f]=e[f]<0?0:e[f]>1?1:e[f];return e}function g(a){return[a.width(),a.height()]}function h(a){var b=a.offset()||{left:0,top:0},c="none"===a.css("borderLeftStyle")?0:parseInt(a.css("borderLeftWidth"),10),d="none"===a.css("borderTopStyle")?0:parseInt(a.css("borderTopWidth"),10),e=parseInt(a.css("paddingLeft"),10),f=parseInt(a.css("paddingTop"),10);return[b.left+c+e,b.top+d+f]}function i(a){return[1/a[0],1/a[1]]}function j(a,b,c){return[b||a.outerWidth(),c||a.outerHeight()]}function k(a,d){for(var e=[a,d],f=2,g=[];f--;)g[f]="string"==typeof e[f]?e[f]===b?1:x[g[f]]||c(g[f]):e[f];return g}function l(a,b){return[y.test(a),y.test(b)]}function m(a,b,d){for(var e=[a,b],f=2,g=[];f--;)g[f]=d[f]?parseInt(e[f],10):g[f]=e[f]===!0?1:c(e[f]);return g}function n(a,b,c,d){for(var e=2,f=[];e--;)f[e]=b[e]?c[e]*(d[e]-a[e]):a[e]?c[e]*(1-a[e]):0;return f}function o(a,b){for(var c=2,d=[];c--;)a[c]&&(d[c]=100*b[c]+"%");return d}function p(a,b,c,d,e){for(var f=a.offsetParent(),g=a.position(),h=[],i=[],j=2;j--;)h[j]=c[j]?0:g[0===j?"left":"top"]/(f[0===j?"outerWidth":"outerHeight"]()-e[j]),i[j]=(h[j]-d[j])/b[j];return i}function q(a,b,c,d,e,f){for(var g,h,i=[],j=2,k={};j--;)a[j]&&(i[j]=a[j]*f[j]+c[j],b[j]?(g=e[j],h=-1*i[j]):(g=100*i[j]+"%",h=i[j]*d[j]*-1),0===j?(k.left=g,k.marginLeft=h):(k.top=g,k.marginTop=h));return k}function r(a,b,c,d,e,f,g){var h,i;if((!e[0]||Math.abs(a[0]-b[0])<c[0])&&(!e[1]||Math.abs(a[1]-b[1])<c[1]))return f&&f(),g(a);for(h=[],i=2;i--;)e[i]&&(h[i]=a[i]+d*(b[i]-a[i]));return g(h)}function s(a,b,c,d,e,f,g){return a[0]!==b[0]||a[1]!==b[1]?g(a):void 0}function t(a,b,c){a.off(b).removeData("parallax_port"),A.off(c)}function u(a,b,c){b.elem.off(c),b.layers=b.layers.not(a),0===b.layers.length&&t(b.elem,b.events,b.winEvents)}function v(a){var b={};a[0]&&(b.left="",b.marginLeft=""),a[1]&&(b.top="",b.marginTop=""),elem.css(b)}var w={mouseport:"body",xparallax:!0,yparallax:!0,xorigin:.5,yorigin:.5,decay:.66,frameDuration:30,freezeClass:"freeze"},x={left:0,top:0,middle:.5,center:.5,right:1,bottom:1},y=/^\d+\s?px$/,z=/^\d+\s?%$/,A=a(window),B=a(document),C=[0,0],D=function(){function a(){function a(){}function d(){var a=h.slice(0),d=a.length,e=-1;for(b&&console.log("timer frame()",d);++e<d;)a[e].call(this);c(g)}function e(){b&&console.log("timer start()"),this.start=a,this.stop=f,g=d,c(g)}function f(){b&&console.log("timer stop()"),this.start=e,this.stop=a,g=a}var g,h=[];this.callbacks=h,this.start=e,this.stop=f}var b=!1,c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(function(){a()},25)}}();return a.prototype={add:function(a){for(var c=this.callbacks,d=c.length;d--;)if(c[d]===a)return;this.callbacks.push(a),b&&console.log("timer add()",this.callbacks.length)},remove:function(a){for(var c=this.callbacks,d=c.length;d--;)c[d]===a&&c.splice(d,1);b&&console.log("timer remove()",this.callbacks.length),0===c.length&&this.stop()}},a}();a.fn.parallax=function(b){var c=a.extend({},a.fn.parallax.options,b),f=arguments,g=c.mouseport instanceof a?c.mouseport:a(c.mouseport),h=e(g,"parallax_port",d),i=h.timer;return this.each(function(b){function d(a){var b=q(B,A,C,y,D,a);v.css(b),E=a}function e(){F(h.pointer,E,h.threshold,x,B,G,d)}function g(){F=s}function t(){i.remove(e)}var u=this,v=a(this),w=f[b+1]?a.extend({},c,f[b+1]):c,x=w.decay,y=j(v,w.width,w.height),z=k(w.xorigin,w.yorigin),A=l(w.xparallax,w.yparallax),B=m(w.xparallax,w.yparallax,A),C=n(B,A,z,y),D=o(A,z),E=p(v,B,A,C,y),F=r,G=g,H={"mouseenter.parallax":function(){F=r,G=g,i.add(e),i.start()},"mouseleave.parallax":function(){F=r,G=t}};a.data(u,"parallax")&&v.unparallax(),a.data(u,"parallax",{port:h,events:H,parallax:B}),h.elem.on(H),h.layers=h.layers?h.layers.add(u):a(u)})},a.fn.unparallax=function(b){return this.each(function(){var c=a.data(this,"parallax");
c&&(a.removeData(this,"parallax"),u(this,c.port,c.events),b&&v(c.parallax))})},a.fn.parallax.options=w,B.on("mousemove.parallax",function(a){C=[a.pageX,a.pageY]})}(jQuery),function(a,b){angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var a=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(b,c,d){function e(e,h){function i(a,b,c){var d=j(),e=k();return r>=d?"top":null!==a&&d+a<=b.top?"middle":null!==s&&b.top+c+p>=e-s?"bottom":"middle"}function j(){return n[0]===b?b.pageYOffset:n[0]===b}function k(){return n[0]===b?b.document.body.scrollHeight:n[0].scrollHeight}var l={},m=angular.extend({},a,h),n=m.target,o="affix affix-top affix-bottom",p=0,q=0,r=0,s=0,t=null,u=null,v=e.parent();if(m.offsetParent)if(m.offsetParent.match(/^\d+$/))for(var w=0;w<1*m.offsetParent-1;w++)v=v.parent();else v=angular.element(m.offsetParent);return l.init=function(){l.$parseOffsets(),q=d.offset(e[0]).top+p,n.on("scroll",l.checkPosition),n.on("click",l.checkPositionWithEventLoop),g.on("resize",l.$debouncedOnResize),l.checkPosition(),l.checkPositionWithEventLoop()},l.destroy=function(){n.off("scroll",l.checkPosition),n.off("click",l.checkPositionWithEventLoop),g.off("resize",l.$debouncedOnResize)},l.checkPositionWithEventLoop=function(){setTimeout(l.checkPosition,1)},l.checkPosition=function(){var a=j(),b=d.offset(e[0]),c=d.height(e[0]),g=i(u,b,c);t!==g&&(t=g,e.removeClass(o).addClass("affix"+("middle"!==g?"-"+g:"")),"top"===g?(u=null,e.css("position",m.offsetParent?"":"relative"),e.css("top","")):"bottom"===g?(u=m.offsetUnpin?-(1*m.offsetUnpin):b.top-a,e.css("position",m.offsetParent?"":"relative"),e.css("top",m.offsetParent?"":f[0].offsetHeight-s-c-q+"px")):(u=null,e.css("position","fixed"),e.css("top",p+"px")))},l.$onResize=function(){l.$parseOffsets(),l.checkPosition()},l.$debouncedOnResize=c(l.$onResize,50),l.$parseOffsets=function(){e.css("position",m.offsetParent?"":"relative"),m.offsetTop&&("auto"===m.offsetTop&&(m.offsetTop="+0"),m.offsetTop.match(/^[-+]\d+$/)?(p=1*-m.offsetTop,r=m.offsetParent?d.offset(v[0]).top+1*m.offsetTop:d.offset(e[0]).top-d.css(e[0],"marginTop",!0)+1*m.offsetTop):r=1*m.offsetTop),m.offsetBottom&&(s=m.offsetParent&&m.offsetBottom.match(/^[-+]\d+$/)?k()-(d.offset(v[0]).top+d.height(v[0]))+1*m.offsetBottom+1:1*m.offsetBottom)},l.init(),l}var f=angular.element(b.document.body),g=angular.element(b);return e}]}).directive("bsAffix",["$affix","$window",function(a,b){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(c,d,e,f){var g={scope:c,offsetTop:"auto",target:f?f.$element:angular.element(b)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(a){angular.isDefined(e[a])&&(g[a]=e[a])});var h=a(d,g);c.$on("$destroy",function(){g=null,h=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(a){this.$element=a}]}}),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var a=this.defaults={animation:"am-fade",prefixClass:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(b,c){function d(d){var e={},f=angular.extend({},a,d);e=b(f),e.$scope.dismissable=!!f.dismissable,f.type&&(e.$scope.type=f.type);var g=e.show;return f.duration&&(e.show=function(){g(),c(function(){e.hide()},1e3*f.duration)}),e}return d}]}).directive("bsAlert",["$window","$location","$sce","$alert",function(a,b,c,d){a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,b,e){var f={scope:a,element:b,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),angular.forEach(["title","content","type"],function(b){e[b]&&e.$observe(b,function(d){a[b]=c.trustAsHtml(d)})}),e.bsAlert&&a.$watch(e.bsAlert,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var g=d(f);b.on(e.trigger||"click",g.toggle),a.$on("$destroy",function(){g.destroy(),f=null,g=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var a=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:a}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="checkbox"]');angular.forEach(c,function(a){var c=angular.element(a);c.attr("bs-checkbox",""),c.attr("ng-model",b.ngModel+"."+c.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h=c,i="INPUT"===e[0].nodeName,j=i?e.parent():e,k=angular.isDefined(f.trueValue)?f.trueValue:!0;d.test(f.trueValue)&&(k=a.$eval(f.trueValue));var l=angular.isDefined(f.falseValue)?f.falseValue:!1;d.test(f.falseValue)&&(l=a.$eval(f.falseValue));var m="boolean"!=typeof k||"boolean"!=typeof l;m&&(g.$parsers.push(function(a){return a?k:l}),a.$watch(f.ngModel,function(){g.$render()})),g.$render=function(){var a=angular.equals(g.$modelValue,k);b(function(){i&&(e[0].checked=a),j.toggleClass(h.activeClass,a)})},e.bind(h.toggleEvent,function(){a.$apply(function(){i||g.$setViewValue(!j.hasClass("active")),m||g.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(a,b){a.attr("data-toggle","buttons"),a.removeAttr("ng-model");var c=a[0].querySelectorAll('input[type="radio"]');angular.forEach(c,function(a){angular.element(a).attr("bs-radio",""),angular.element(a).attr("ng-model",b.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(a,b){var c=a.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(a,e,f,g){var h=c,i="INPUT"===e[0].nodeName,j=i?e.parent():e,k=d.test(f.value)?a.$eval(f.value):f.value;g.$render=function(){var a=angular.equals(g.$modelValue,k);b(function(){i&&(e[0].checked=a),j.toggleClass(h.activeClass,a)})},e.bind(h.toggleEvent,function(){a.$apply(function(){g.$setViewValue(k),g.$render()})})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var a=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(b){function c(c){var d={},e=angular.extend({},a,c);return d=b(e)}return c}]}).directive("bsAside",["$window","$sce","$aside",function(a,b,c){a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,d,e){var f={scope:a,element:d,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),angular.forEach(["title","content"],function(c){e[c]&&e.$observe(c,function(d){a[c]=b.trustAsHtml(d)})}),e.bsAside&&a.$watch(e.bsAside,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var g=c(f);d.on(e.trigger||"click",g.toggle),a.$on("$destroy",function(){g.destroy(),f=null,g=null})}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:+1/0,startView:0,minView:0,startWeek:0,iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","datepickerViews","$tooltip",function(b,c,d,e,f,g,h,i){function j(b,c,d){function e(a){a.selected=g.$isSelected(a.date)}function f(){b[0].focus()}var g=i(b,angular.extend({},a,d)),j=d.scope,m=g.$options,n=g.$scope;m.startView&&(m.startView-=m.minView);var o=h(g);g.$views=o.views;var p=o.viewDate;n.$mode=m.startView,n.$iconLeft=m.iconLeft,n.$iconRight=m.iconRight;var q=g.$views[n.$mode];n.$select=function(a){g.select(a)},n.$selectPane=function(a){g.$selectPane(a)},n.$toggleMode=function(){g.setMode((n.$mode+1)%g.$views.length)},g.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())&&(g.$date=a,q.update.call(q,a)),g.$build(!0)},g.select=function(a,b){angular.isDate(c.$dateValue)||(c.$dateValue=new Date(a)),c.$dateValue.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),!n.$mode||b?(c.$setViewValue(c.$dateValue),c.$render(),m.autoclose&&!b&&g.hide(!0)):(angular.extend(p,{year:a.getFullYear(),month:a.getMonth(),date:a.getDate()}),g.setMode(n.$mode-1),g.$build())},g.setMode=function(a){n.$mode=a,q=g.$views[n.$mode],g.$build()},g.$build=function(a){a===!0&&q.built||(a!==!1||q.built)&&q.build.call(q)},g.$updateSelected=function(){for(var a=0,b=n.rows.length;b>a;a++)angular.forEach(n.rows[a],e)},g.$isSelected=function(a){return q.isSelected(a)},g.$selectPane=function(a){var b=q.steps,c=new Date(Date.UTC(p.year+(b.year||0)*a,p.month+(b.month||0)*a,p.date+(b.day||0)*a));angular.extend(p,{year:c.getUTCFullYear(),month:c.getUTCMonth(),date:c.getUTCDate()}),g.$build()},g.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),k){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},g.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return n.$mode?n.$apply(function(){g.setMode(n.$mode-1)}):g.hide(!0);q.onKeyDown(a),j.$digest()}};var r=g.init;g.init=function(){return l&&m.useNative?(b.prop("type","date"),void b.css("-webkit-appearance","textfield")):(k&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",f)),void r())};var s=g.destroy;g.destroy=function(){l&&m.useNative&&b.off("click",f),s()};var t=g.show;g.show=function(){t(),setTimeout(function(){g.$element.on(k?"touchstart":"mousedown",g.$onMouseDown),m.keyboard&&b.on("keydown",g.$onKeyDown)})};var u=g.hide;return g.hide=function(a){g.$element.off(k?"touchstart":"mousedown",g.$onMouseDown),m.keyboard&&b.off("keydown",g.$onKeyDown),u(a)},g}var k=(angular.element(b.document.body),"createTouch"in b.document),l=/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent);return a.lang||(a.lang=f.id),j.defaults=a,j}]}).directive("bsDatepicker",["$window","$parse","$q","$locale","dateFilter","$datepicker","$dateParser","$timeout",function(a,b,c,d,e,f,g){var h=(f.defaults,/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent)),i=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};return{restrict:"EAC",require:"ngModel",link:function(a,b,c,d){var j={scope:a,controller:d};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","useNative","lang","startView","minView"],function(a){angular.isDefined(c[a])&&(j[a]=c[a])}),h&&j.useNative&&(j.dateFormat="yyyy-MM-dd");var k=f(b,d,j);j=k.$options,angular.forEach(["minDate","maxDate"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){if("today"===b){var c=new Date;k.$options[a]=+new Date(c.getFullYear(),c.getMonth(),c.getDate()+("maxDate"===a?1:0),0,0,0,"minDate"===a?0:-1)}else k.$options[a]=angular.isString(b)&&b.match(/^".+"$/)?+new Date(b.substr(1,b.length-2)):i(b)?+new Date(parseInt(b,10)):+new Date(b);!isNaN(k.$options[a])&&k.$build(!1)})}),a.$watch(c.ngModel,function(){k.update(d.$dateValue)},!0);var l=g({format:j.dateFormat,lang:j.lang,strict:j.strictFormat});d.$parsers.unshift(function(a){if(!a)return void d.$setValidity("date",!0);var b=l.parse(a,d.$dateValue);if(!b||isNaN(b.getTime()))return void d.$setValidity("date",!1);var c=isNaN(k.$options.minDate)||b.getTime()>=k.$options.minDate,f=isNaN(k.$options.maxDate)||b.getTime()<=k.$options.maxDate,g=c&&f;return d.$setValidity("date",g),d.$setValidity("min",c),d.$setValidity("max",f),g&&(d.$dateValue=b),"string"===j.dateType?e(b,j.modelDateFormat||j.dateFormat):"number"===j.dateType?d.$dateValue.getTime():"iso"===j.dateType?d.$dateValue.toISOString():new Date(d.$dateValue)}),d.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?0/0:angular.isDate(a)?a:"string"===j.dateType?l.parse(a,null,j.modelDateFormat):new Date(a),d.$dateValue=b,d.$dateValue}),d.$render=function(){b.val(!d.$dateValue||isNaN(d.$dateValue.getTime())?"":e(d.$dateValue,j.dateFormat))},a.$on("$destroy",function(){k.destroy(),j=null,k=null})}}}]).provider("datepickerViews",function(){function a(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function b(a,b){return(a%b+b)%b}this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$locale","$sce","dateFilter",function(c,d,e){return function(f){var g=f.$scope,h=f.$options,i=c.DATETIME_FORMATS.SHORTDAY,j=i.slice(h.startWeek).concat(i.slice(0,h.startWeek)),k=d.trustAsHtml('<th class="dow text-center">'+j.join('</th><th class="dow text-center">')+"</th>"),l=f.$date||new Date,m={year:l.getFullYear(),month:l.getMonth(),date:l.getDate()},n=(6e4*l.getTimezoneOffset(),[{format:h.dayFormat,split:7,steps:{month:1},update:function(a,b){!this.built||b||a.getFullYear()!==m.year||a.getMonth()!==m.month?(angular.extend(m,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):a.getDate()!==m.date&&(m.date=f.$date.getDate(),f.$updateSelected())},build:function(){var c=new Date(m.year,m.month,1),d=c.getTimezoneOffset(),i=new Date(+c-864e5*b(c.getDay()-h.startWeek,7)),j=i.getTimezoneOffset();j!==d&&(i=new Date(+i+6e4*(j-d)));for(var l,n=[],o=0;42>o;o++)l=new Date(i.getFullYear(),i.getMonth(),i.getDate()+o),n.push({date:l,label:e(l,this.format),selected:f.$date&&this.isSelected(l),muted:l.getMonth()!==m.month,disabled:this.isDisabled(l)});g.title=e(c,"MMMM yyyy"),g.showLabels=!0,g.labels=k,g.rows=a(n,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()&&a.getDate()===f.$date.getDate()},isDisabled:function(a){return a.getTime()<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){var b,c=f.$date.getTime();37===a.keyCode?b=new Date(c-864e5):38===a.keyCode?b=new Date(c-6048e5):39===a.keyCode?b=new Date(c+864e5):40===a.keyCode&&(b=new Date(c+6048e5)),this.isDisabled(b)||f.select(b,!0)}},{name:"month",format:"MMM",split:4,steps:{year:1},update:function(a){this.built&&a.getFullYear()===m.year?a.getMonth()!==m.month&&(angular.extend(m,{month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected()):(angular.extend(m,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build())},build:function(){for(var b,c=(new Date(m.year,0,1),[]),d=0;12>d;d++)b=new Date(m.year,d,1),c.push({date:b,label:e(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=e(b,"yyyy"),g.showLabels=!1,g.rows=a(c,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()},isDisabled:function(a){var b=+new Date(a.getFullYear(),a.getMonth()+1,0);return b<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){var b=f.$date.getMonth(),c=new Date(f.$date);37===a.keyCode?c.setMonth(b-1):38===a.keyCode?c.setMonth(b-4):39===a.keyCode?c.setMonth(b+1):40===a.keyCode&&c.setMonth(b+4),this.isDisabled(c)||f.select(c,!0)}},{name:"year",format:"yyyy",split:4,steps:{year:12},update:function(a,b){!this.built||b||parseInt(a.getFullYear()/20,10)!==parseInt(m.year/20,10)?(angular.extend(m,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):a.getFullYear()!==m.year&&(angular.extend(m,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected())},build:function(){for(var b,c=m.year-m.year%(3*this.split),d=[],h=0;12>h;h++)b=new Date(c+h,0,1),d.push({date:b,label:e(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=d[0].label+"-"+d[d.length-1].label,g.showLabels=!1,g.rows=a(d,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()},isDisabled:function(a){var b=+new Date(a.getFullYear()+1,0,0);return b<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){var b=f.$date.getFullYear(),c=new Date(f.$date);37===a.keyCode?c.setYear(b-1):38===a.keyCode?c.setYear(b-4):39===a.keyCode?c.setYear(b+1):40===a.keyCode&&c.setYear(b+4),this.isDisabled(c)||f.select(c,!0)}}]);return{views:h.minView?Array.prototype.slice.call(n,h.minView):n,viewDate:m}}}]}),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){var a=Date.prototype,b=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale",function(c){var d=function(d){function e(a){var b,c=Object.keys(m),d=[],e=[],f=a;for(b=0;b<c.length;b++)if(a.split(c[b]).length>1){var g=f.search(c[b]);a=a.split(c[b]).join(""),m[c[b]]&&(d[g]=m[c[b]])}return angular.forEach(d,function(a){e.push(a)}),e}function f(a){return a.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function g(a){var b,c=Object.keys(l),d=a;for(b=0;b<c.length;b++)d=d.split(c[b]).join("${"+b+"}");for(b=0;b<c.length;b++)d=d.split("${"+b+"}").join("("+l[c[b]]+")");return a=f(a),new RegExp("^"+d+"$",["i"])}var h,i,j=angular.extend({},b,d),k={},l={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:j.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:j.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:j.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:j.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:c.DATETIME_FORMATS.DAY.join("|"),EEE:c.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:j.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:c.DATETIME_FORMATS.MONTH.join("|"),MMM:c.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:j.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:j.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},m={sss:a.setMilliseconds,ss:a.setSeconds,s:a.setSeconds,mm:a.setMinutes,m:a.setMinutes,HH:a.setHours,H:a.setHours,hh:a.setHours,h:a.setHours,dd:a.setDate,d:a.setDate,a:function(a){var b=this.getHours();return this.setHours(a.match(/pm/i)?b+12:b)},MMMM:function(a){return this.setMonth(c.DATETIME_FORMATS.MONTH.indexOf(a))},MMM:function(a){return this.setMonth(c.DATETIME_FORMATS.SHORTMONTH.indexOf(a))},MM:function(a){return this.setMonth(1*a-1)},M:function(a){return this.setMonth(1*a-1)},yyyy:a.setFullYear,yy:function(a){return this.setFullYear(2e3+1*a)},y:a.setFullYear};return k.init=function(){k.$format=c.DATETIME_FORMATS[j.format]||j.format,h=g(k.$format),i=e(k.$format)},k.isValid=function(a){return angular.isDate(a)?!isNaN(a.getTime()):h.test(a)},k.parse=function(a,b,c){var d=c?g(c):h,f=c?e(c):i;if(angular.isDate(a))return a;var j=d.exec(a);if(!j)return!1;for(var k=b||new Date(0,0,1),l=0;l<j.length-1;l++)f[l]&&f[l].call(k,j[l+1]);return k},k.init(),k};return d}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).constant("debounce",function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}}).constant("throttle",function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var b=(angular.element,{}),c=b.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};b.css=function(b,c,d){var e;return e=b.currentStyle?b.currentStyle[c]:a.getComputedStyle?a.getComputedStyle(b)[c]:b.style[c],d===!0?parseFloat(e)||0:e},b.offset=function(b){var c=b.getBoundingClientRect(),d=b.ownerDocument;return{width:c.width||b.offsetWidth,height:c.height||b.offsetHeight,top:c.top+(a.pageYOffset||d.documentElement.scrollTop)-(d.documentElement.clientTop||0),left:c.left+(a.pageXOffset||d.documentElement.scrollLeft)-(d.documentElement.clientLeft||0)}},b.position=function(a){var e,f,g={top:0,left:0};return"fixed"===b.css(a,"position")?f=a.getBoundingClientRect():(e=d(a),f=b.offset(a),f=b.offset(a),c(e,"html")||(g=b.offset(e)),g.top+=b.css(e,"borderTopWidth",!0),g.left+=b.css(e,"borderLeftWidth",!0)),{width:a.offsetWidth,height:a.offsetHeight,top:f.top-g.top-b.css(a,"marginTop",!0),left:f.left-g.left-b.css(a,"marginLeft",!0)}};var d=function(a){var d=a.ownerDocument,e=a.offsetParent||d;if(c(e,"#document"))return d.documentElement;for(;e&&!c(e,"html")&&"static"===b.css(e,"position");)e=e.offsetParent;return e||d.documentElement};return b.height=function(a,c){var d=a.offsetHeight;return c?d+=b.css(a,"marginTop",!0)+b.css(a,"marginBottom",!0):d-=b.css(a,"paddingTop",!0)+b.css(a,"paddingBottom",!0)+b.css(a,"borderTopWidth",!0)+b.css(a,"borderBottomWidth",!0),d},b.width=function(a,c){var d=a.offsetWidth;return c?d+=b.css(a,"marginLeft",!0)+b.css(a,"marginRight",!0):d-=b.css(a,"paddingLeft",!0)+b.css(a,"paddingRight",!0)+b.css(a,"borderLeftWidth",!0)+b.css(a,"borderRightWidth",!0),d},b}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var a=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(b,c){function d(d,e){function f(a,b){return a.map(function(a,c){var d,e,f={};return f[k]=a,d=j(b,f),e=n(b,f)||c,{label:d,value:e}})}var g={},h=angular.extend({},a,e);g.$values=[];var i,j,k,l,m,n,o;return g.init=function(){g.$match=i=d.match(h.regexp),j=b(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=b(i[3]||""),n=b(i[2]?i[1]:k),o=b(i[7])},g.valuesFn=function(a,b){return c.when(o(a,b)).then(function(b){return g.$values=b?f(b,a):{},g.$values})},g.init(),g}return d}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var a=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip",function(b,c,d){function e(b,e){function h(a){return a.target!==b[0]?a.target!==b[0]&&i.hide():void 0}{var i={},j=angular.extend({},a,e);i.$scope=j.scope&&j.scope.$new()||c.$new()}i=d(b,j),i.$onKeyDown=function(a){if(/(38|40)/.test(a.keyCode)){a.preventDefault(),a.stopPropagation();var b=angular.element(i.$element[0].querySelectorAll("li:not(.divider) a"));if(b.length){var c;angular.forEach(b,function(a,b){g&&g.call(a,":focus")&&(c=b)}),38===a.keyCode&&c>0?c--:40===a.keyCode&&c<b.length-1?c++:angular.isUndefined(c)&&(c=0),b.eq(c)[0].focus()}}};var k=i.show;i.show=function(){k(),setTimeout(function(){j.keyboard&&i.$element.on("keydown",i.$onKeyDown),f.on("click",h)})};var l=i.hide;return i.hide=function(){j.keyboard&&i.$element.off("keydown",i.$onKeyDown),f.off("click",h),l()},i}var f=angular.element(b.document.body),g=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return e}]}).directive("bsDropdown",["$window","$location","$sce","$dropdown",function(a,b,c,d){return{restrict:"EAC",scope:!0,link:function(a,b,c){var e={scope:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(a){angular.isDefined(c[a])&&(e[a]=c[a])}),c.bsDropdown&&a.$watch(c.bsDropdown,function(b){a.content=b},!0);var f=d(b,e);a.$on("$destroy",function(){f.destroy(),e=null,f=null})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var a=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(c,d,e,f,g,h,i,j,k){function l(b){function c(a){a.target===a.currentTarget&&("static"===g.backdrop?f.focus():f.hide())}var f={},g=f.$options=angular.extend({},a,b);f.$promise=n(g.template);var h=f.$scope=g.scope&&g.scope.$new()||d.$new();g.element||g.container||(g.container="body"),o(["title","content"],function(a){g[a]&&(h[a]=k.trustAsHtml(g[a]))}),h.$hide=function(){h.$$postDigest(function(){f.hide()})},h.$show=function(){h.$$postDigest(function(){f.show()})},h.$toggle=function(){h.$$postDigest(function(){f.toggle()})},g.contentTemplate&&(f.$promise=f.$promise.then(function(a){var c=angular.element(a);return n(g.contentTemplate).then(function(a){var d=m('[ng-bind="content"]',c[0]).removeAttr("ng-bind").html(a);return b.template||d.next().remove(),c[0].outerHTML})}));var j,l,t=angular.element('<div class="'+g.prefixClass+'-backdrop"/>');return f.$promise.then(function(a){angular.isObject(a)&&(a=a.data),g.html&&(a=a.replace(s,'ng-bind-html="')),a=p.apply(a),j=e(a),f.init()}),f.init=function(){g.show&&h.$$postDigest(function(){f.show()})},f.destroy=function(){l&&(l.remove(),l=null),t&&(t.remove(),t=null),h.$destroy()},f.show=function(){h.$emit(g.prefixEvent+".show.before",f);var a=g.container?m(g.container):null,b=g.container?null:g.element;l=f.$element=j(h,function(){}),l.css({display:"block"}).addClass(g.placement),g.animation&&(g.backdrop&&t.addClass(g.backdropAnimation),l.addClass(g.animation)),g.backdrop&&i.enter(t,r,null,function(){}),i.enter(l,a,b,function(){h.$emit(g.prefixEvent+".show",f)}),h.$isShown=!0,h.$$phase||h.$root&&h.$root.$$phase||h.$digest();var d=l[0];q(function(){d.focus()}),r.addClass(g.prefixClass+"-open"),g.animation&&r.addClass(g.prefixClass+"-with-"+g.animation),g.backdrop&&(l.on("click",c),t.on("click",c)),g.keyboard&&l.on("keyup",f.$onKeyUp)},f.hide=function(){h.$emit(g.prefixEvent+".hide.before",f),i.leave(l,function(){h.$emit(g.prefixEvent+".hide",f),r.removeClass(g.prefixClass+"-open"),g.animation&&r.addClass(g.prefixClass+"-with-"+g.animation)}),g.backdrop&&i.leave(t,function(){}),h.$isShown=!1,h.$$phase||h.$root&&h.$root.$$phase||h.$digest(),g.backdrop&&(l.off("click",c),t.off("click",c)),g.keyboard&&l.off("keyup",f.$onKeyUp)},f.toggle=function(){h.$isShown?f.hide():f.show()},f.focus=function(){l[0].focus()},f.$onKeyUp=function(a){27===a.which&&f.hide()},f}function m(a,c){return angular.element((c||b).querySelectorAll(a))}function n(a){return f.when(g.get(a)||h.get(a)).then(function(b){return angular.isObject(b)?(g.put(a,b.data),b.data):b})}var o=angular.forEach,p=String.prototype.trim,q=c.requestAnimationFrame||c.setTimeout,r=angular.element(c.document.body),s=/ng-bind="/gi;return l}]}).directive("bsModal",["$window","$location","$sce","$modal",function(a,b,c,d){return{restrict:"EAC",scope:!0,link:function(a,b,e){var f={scope:a,element:b,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),angular.forEach(["title","content"],function(b){e[b]&&e.$observe(b,function(d){a[b]=c.trustAsHtml(d)})}),e.bsModal&&a.$watch(e.bsModal,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var g=d(f);b.on(e.trigger||"click",g.toggle),a.$on("$destroy",function(){g.destroy(),f=null,g=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var a=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:a}}}).directive("bsNavbar",["$window","$location","$navbar",function(a,b,c){var d=c.defaults;return{restrict:"A",link:function(a,c,e){var f=angular.copy(d);angular.forEach(Object.keys(d),function(a){angular.isDefined(e[a])&&(f[a]=e[a])}),a.$watch(function(){return b.path()},function(a){var b=c[0].querySelectorAll("li["+f.routeAttr+"]");angular.forEach(b,function(b){var c=angular.element(b),d=c.attr(f.routeAttr).replace("/","\\/");f.strict&&(d="^"+d+"$");var e=new RegExp(d,["i"]);e.test(a)?c.addClass(f.activeClass):c.removeClass(f.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var a=this.$$spies={},c=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(d,e,f,g,h,i){function j(a,b){return a[0].nodeName&&a[0].nodeName.toLowerCase()===b.toLowerCase()}function k(e){var k=angular.extend({},c,e);k.element||(k.element=n);var o=j(k.element,"body"),p=o?l:k.element,q=o?"window":k.id;if(a[q])return a[q].$$count++,a[q];var r,s,t,u,v,w,x,y,z={},A=z.$trackedElements=[],B=[];return z.init=function(){this.$$count=1,u=h(this.checkPosition,k.debounce),v=i(this.checkPosition,k.throttle),p.on("click",this.checkPositionWithEventLoop),l.on("resize",u),p.on("scroll",v),w=h(this.checkOffsets,k.debounce),r=f.$on("$viewContentLoaded",w),s=f.$on("$includeContentLoaded",w),w(),q&&(a[q]=z)},z.destroy=function(){this.$$count--,this.$$count>0||(p.off("click",this.checkPositionWithEventLoop),l.off("resize",u),p.off("scroll",u),r(),s(),q&&delete a[q])},z.checkPosition=function(){if(B.length){if(y=(o?d.pageYOffset:p.prop("scrollTop"))||0,x=Math.max(d.innerHeight,m.prop("clientHeight")),y<B[0].offsetTop&&t!==B[0].target)return z.$activateElement(B[0]);for(var a=B.length;a--;)if(!angular.isUndefined(B[a].offsetTop)&&null!==B[a].offsetTop&&t!==B[a].target&&!(y<B[a].offsetTop||B[a+1]&&y>B[a+1].offsetTop))return z.$activateElement(B[a])}},z.checkPositionWithEventLoop=function(){setTimeout(this.checkPosition,1)},z.$activateElement=function(a){if(t){var b=z.$getTrackedElement(t);b&&(b.source.removeClass("active"),j(b.source,"li")&&j(b.source.parent().parent(),"li")&&b.source.parent().parent().removeClass("active"))}t=a.target,a.source.addClass("active"),j(a.source,"li")&&j(a.source.parent().parent(),"li")&&a.source.parent().parent().addClass("active")},z.$getTrackedElement=function(a){return A.filter(function(b){return b.target===a})[0]},z.checkOffsets=function(){angular.forEach(A,function(a){var c=b.querySelector(a.target);a.offsetTop=c?g.offset(c).top:null,k.offset&&null!==a.offsetTop&&(a.offsetTop-=1*k.offset)
}),B=A.filter(function(a){return null!==a.offsetTop}).sort(function(a,b){return a.offsetTop-b.offsetTop}),u()},z.trackElement=function(a,b){A.push({target:a,source:b})},z.untrackElement=function(a,b){for(var c,d=A.length;d--;)if(A[d].target===a&&A[d].source===b){c=d;break}A=A.splice(c,1)},z.activate=function(a){A[a].addClass("active")},z.init(),z}var l=angular.element(d),m=angular.element(e.prop("documentElement")),n=angular.element(d.document.body);return k}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(a,b,c,d){return{restrict:"EAC",link:function(a,b,c){var e={scope:a};angular.forEach(["offset","target"],function(a){angular.isDefined(c[a])&&(e[a]=c[a])});var f=d(e);f.trackElement(e.target,b),a.$on("$destroy",function(){f.untrackElement(e.target,b),f.destroy(),e=null,f=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(a){var b=a[0].querySelectorAll("li > a[href]");angular.forEach(b,function(a){var b=angular.element(a);b.parent().attr("bs-scrollspy","").attr("data-target",b.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var a=this.defaults={animation:"am-fade",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0};this.$get=["$tooltip",function(b){function c(c,d){var e=angular.extend({},a,d),f=b(c,e);return e.content&&(f.$scope.content=e.content),f}return c}]}).directive("bsPopover",["$window","$location","$sce","$popover",function(a,b,c,d){var e=a.requestAnimationFrame||a.setTimeout;return{restrict:"EAC",scope:!0,link:function(a,b,f){var g={scope:a};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])}),angular.forEach(["title","content"],function(b){f[b]&&f.$observe(b,function(d,f){a[b]=c.trustAsHtml(d),angular.isDefined(f)&&e(function(){h&&h.$applyPlacement()})})}),f.bsPopover&&a.$watch(f.bsPopover,function(b,c){angular.isObject(b)?angular.extend(a,b):a.content=b,angular.isDefined(c)&&e(function(){h&&h.$applyPlacement()})},!0);var h=d(b,g);a.$on("$destroy",function(){h.destroy(),g=null,h=null})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var a=this.defaults={animation:"am-fade",prefixClass:"select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip",function(b,c,d,e){function f(b,c,d){var f={},h=angular.extend({},a,d);f=e(b,h);var i=f.$scope;i.$matches=[],i.$activeIndex=0,i.$isMultiple=h.multiple,i.$iconCheckmark=h.iconCheckmark,i.$activate=function(a){i.$$postDigest(function(){f.activate(a)})},i.$select=function(a){i.$$postDigest(function(){f.select(a)})},i.$isVisible=function(){return f.$isVisible()},i.$isActive=function(a){return f.$isActive(a)},f.update=function(a){i.$matches=a,f.$updateActiveIndex()},f.activate=function(a){return h.multiple?(i.$activeIndex.sort(),f.$isActive(a)?i.$activeIndex.splice(i.$activeIndex.indexOf(a),1):i.$activeIndex.push(a),h.sort&&i.$activeIndex.sort()):i.$activeIndex=a,i.$activeIndex},f.select=function(a){var b=i.$matches[a].value;i.$apply(function(){f.activate(a),h.multiple?c.$setViewValue(i.$activeIndex.map(function(a){return i.$matches[a].value})):(c.$setViewValue(b),f.hide())}),i.$emit("$select.select",b,a)},f.$updateActiveIndex=function(){c.$modelValue&&i.$matches.length?i.$activeIndex=h.multiple&&angular.isArray(c.$modelValue)?c.$modelValue.map(function(a){return f.$getIndex(a)}):f.$getIndex(c.$modelValue):i.$activeIndex>=i.$matches.length&&(i.$activeIndex=h.multiple?[]:0)},f.$isVisible=function(){return h.minLength&&c?i.$matches.length&&c.$viewValue.length>=h.minLength:i.$matches.length},f.$isActive=function(a){return h.multiple?-1!==i.$activeIndex.indexOf(a):i.$activeIndex===a},f.$getIndex=function(a){var b=i.$matches.length,c=b;if(b){for(c=b;c--&&i.$matches[c].value!==a;);if(!(0>c))return c}},f.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),g){var b=angular.element(a.target);b.triggerHandler("click")}},f.$onKeyDown=function(a){if(/(9|13|38|40)/.test(a.keyCode)){if(a.preventDefault(),a.stopPropagation(),!h.multiple&&(13===a.keyCode||9===a.keyCode))return f.select(i.$activeIndex);38===a.keyCode&&i.$activeIndex>0?i.$activeIndex--:40===a.keyCode&&i.$activeIndex<i.$matches.length-1?i.$activeIndex++:angular.isUndefined(i.$activeIndex)&&(i.$activeIndex=0),i.$digest()}};var j=f.show;f.show=function(){j(),h.multiple&&f.$element.addClass("select-multiple"),setTimeout(function(){f.$element.on(g?"touchstart":"mousedown",f.$onMouseDown),h.keyboard&&b.on("keydown",f.$onKeyDown)})};var k=f.hide;return f.hide=function(){f.$element.off(g?"touchstart":"mousedown",f.$onMouseDown),h.keyboard&&b.off("keydown",f.$onKeyDown),k(!0)},f}var g=(angular.element(b.document.body),"createTouch"in b.document);return f.defaults=a,f}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","maxLength","maxLengthHtml"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])}),"select"===b[0].nodeName.toLowerCase()){var i=b;i.css("display","none"),b=angular.element('<button type="button" class="btn btn-default"></button>'),i.after(b)}var j=e(c.ngOptions),k=d(b,g,h),l=j.$match[7].replace(/\|.+/,"").trim();a.$watch(l,function(){j.valuesFn(a,g).then(function(a){k.update(a),g.$render()})},!0),a.$watch(c.ngModel,function(){k.$updateActiveIndex(),g.$render()},!0),g.$render=function(){var a,d;h.multiple&&angular.isArray(g.$modelValue)?(a=g.$modelValue.map(function(a){return d=k.$getIndex(a),angular.isDefined(d)?k.$scope.$matches[d].label:!1}).filter(angular.isDefined),a=a.length>(h.maxLength||f.maxLength)?a.length+" "+(h.maxLengthHtml||f.maxLengthHtml):a.join(", ")):(d=k.$getIndex(g.$modelValue),a=angular.isDefined(d)?k.$scope.$matches[d].label:!1),b.html((a?a:c.placeholder||f.placeholder)+f.caretHtml)},a.$on("$destroy",function(){k.destroy(),h=null,k=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).run(["$templateCache",function(a){a.put("$pane","{{pane.content}}")}]).provider("$tab",function(){var a=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html"};this.$get=function(){return{defaults:a}}}).directive("bsTabs",["$window","$animate","$tab",function(a,b,c){var d=c.defaults;return{restrict:"EAC",scope:!0,require:"?ngModel",templateUrl:function(a,b){return b.template||d.template},link:function(a,b,c,e){var f=d;angular.forEach(["animation"],function(a){angular.isDefined(c[a])&&(f[a]=c[a])}),c.bsTabs&&a.$watch(c.bsTabs,function(b){a.panes=b},!0),b.addClass("tabs"),f.animation&&b.addClass(f.animation),a.active=a.activePane=0,a.setActive=function(b){a.active=b,e&&e.$setViewValue(b)},e&&(e.$render=function(){a.active=1*e.$modelValue})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:+1/0,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","$tooltip",function(b,c,d,e,f,g,h){function i(b,c,d){function e(a,c){if(b[0].createTextRange){var d=b[0].createTextRange();d.collapse(!0),d.moveStart("character",a),d.moveEnd("character",c),d.select()}else b[0].setSelectionRange?b[0].setSelectionRange(a,c):angular.isUndefined(b[0].selectionStart)&&(b[0].selectionStart=a,b[0].selectionEnd=c)}function i(){b[0].focus()}var l=h(b,angular.extend({},a,d)),m=d.scope,n=l.$options,o=l.$scope,p=0,q=c.$dateValue||new Date,r={hour:q.getHours(),meridian:q.getHours()<12,minute:q.getMinutes(),second:q.getSeconds(),millisecond:q.getMilliseconds()},s=f.DATETIME_FORMATS[n.timeFormat]||n.timeFormat,t=/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(s).slice(1);o.$iconUp=n.iconUp,o.$iconDown=n.iconDown,o.$select=function(a,b){l.select(a,b)},o.$moveIndex=function(a,b){l.$moveIndex(a,b)},o.$switchMeridian=function(a){l.switchMeridian(a)},l.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())?(l.$date=a,angular.extend(r,{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()}),l.$build()):l.$isBuilt||l.$build()},l.select=function(a,b,d){(!c.$dateValue||isNaN(c.$dateValue.getTime()))&&(c.$dateValue=new Date(1970,0,1)),angular.isDate(a)||(a=new Date(a)),0===b?c.$dateValue.setHours(a.getHours()):1===b&&c.$dateValue.setMinutes(a.getMinutes()),c.$setViewValue(c.$dateValue),c.$render(),n.autoclose&&!d&&l.hide(!0)},l.switchMeridian=function(a){var b=(a||c.$dateValue).getHours();c.$dateValue.setHours(12>b?b+12:b-12),c.$setViewValue(c.$dateValue),c.$render()},l.$build=function(){var a,b,c=o.midIndex=parseInt(n.length/2,10),d=[];for(a=0;a<n.length;a++)b=new Date(1970,0,1,r.hour-(c-a)*n.hourStep),d.push({date:b,label:g(b,t[0]),selected:l.$date&&l.$isSelected(b,0),disabled:l.$isDisabled(b,0)});var e,f=[];for(a=0;a<n.length;a++)e=new Date(1970,0,1,0,r.minute-(c-a)*n.minuteStep),f.push({date:e,label:g(e,t[2]),selected:l.$date&&l.$isSelected(e,1),disabled:l.$isDisabled(e,1)});var h=[];for(a=0;a<n.length;a++)h.push([d[a],f[a]]);o.rows=h,o.showAM=!!t[3],o.isAM=(l.$date||d[c].date).getHours()<12,o.timeSeparator=t[1],l.$isBuilt=!0},l.$isSelected=function(a,b){return l.$date?0===b?a.getHours()===l.$date.getHours():1===b?a.getMinutes()===l.$date.getMinutes():void 0:!1},l.$isDisabled=function(a,b){var c;return 0===b?c=a.getTime()+6e4*r.minute:1===b&&(c=a.getTime()+36e5*r.hour),c<1*n.minTime||c>1*n.maxTime},l.$moveIndex=function(a,b){var c;0===b?(c=new Date(1970,0,1,r.hour+a*n.length,r.minute),angular.extend(r,{hour:c.getHours()})):1===b&&(c=new Date(1970,0,1,r.hour,r.minute+a*n.length*n.minuteStep),angular.extend(r,{minute:c.getMinutes()})),l.$build()},l.$onMouseDown=function(a){if("input"!==a.target.nodeName.toLowerCase()&&a.preventDefault(),a.stopPropagation(),j){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},l.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return l.hide(!0);var b=new Date(l.$date),c=b.getHours(),d=g(b,"h").length,f=b.getMinutes(),h=g(b,"mm").length,i=/(37|39)/.test(a.keyCode),j=2+1*!!t[3];i&&(37===a.keyCode?p=1>p?j-1:p-1:39===a.keyCode&&(p=j-1>p?p+1:0));var k=[0,d];0===p?(38===a.keyCode?b.setHours(c-parseInt(n.hourStep,10)):40===a.keyCode&&b.setHours(c+parseInt(n.hourStep,10)),k=[0,d]):1===p?(38===a.keyCode?b.setMinutes(f-parseInt(n.minuteStep,10)):40===a.keyCode&&b.setMinutes(f+parseInt(n.minuteStep,10)),k=[d+1,d+1+h]):2===p&&(i||l.switchMeridian(),k=[d+1+h+1,d+1+h+3]),l.select(b,p,!0),e(k[0],k[1]),m.$digest()}};var u=l.init;l.init=function(){return k&&n.useNative?(b.prop("type","time"),void b.css("-webkit-appearance","textfield")):(j&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",i)),void u())};var v=l.destroy;l.destroy=function(){k&&n.useNative&&b.off("click",i),v()};var w=l.show;l.show=function(){w(),setTimeout(function(){l.$element.on(j?"touchstart":"mousedown",l.$onMouseDown),n.keyboard&&b.on("keydown",l.$onKeyDown)})};var x=l.hide;return l.hide=function(a){l.$element.off(j?"touchstart":"mousedown",l.$onMouseDown),n.keyboard&&b.off("keydown",l.$onKeyDown),x(a)},l}var j=(angular.element(b.document.body),"createTouch"in b.document),k=/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent);return a.lang||(a.lang=f.id),i.defaults=a,i}]}).directive("bsTimepicker",["$window","$parse","$q","$locale","dateFilter","$timepicker","$dateParser","$timeout",function(a,b,c,d,e,f,g){{var h=f.defaults,i=/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent);a.requestAnimationFrame||a.setTimeout}return{restrict:"EAC",require:"ngModel",link:function(a,b,c,d){var j={scope:a,controller:d};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length"],function(a){angular.isDefined(c[a])&&(j[a]=c[a])}),i&&(j.useNative||h.useNative)&&(j.timeFormat="HH:mm");var k=f(b,d,j);j=k.$options;var l=g({format:j.timeFormat,lang:j.lang});angular.forEach(["minTime","maxTime"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){k.$options[a]="now"===b?(new Date).setFullYear(1970,0,1):angular.isString(b)&&b.match(/^".+"$/)?+new Date(b.substr(1,b.length-2)):l.parse(b,new Date(1970,0,1,0)),!isNaN(k.$options[a])&&k.$build()})}),a.$watch(c.ngModel,function(){k.update(d.$dateValue)},!0),d.$parsers.unshift(function(a){if(!a)return void d.$setValidity("date",!0);var b=l.parse(a,d.$dateValue);if(!b||isNaN(b.getTime()))d.$setValidity("date",!1);else{var c=b.getTime()>=j.minTime&&b.getTime()<=j.maxTime;d.$setValidity("date",c),c&&(d.$dateValue=b)}return"string"===j.timeType?e(b,j.modelTimeFormat||j.timeFormat):"number"===j.timeType?d.$dateValue.getTime():"iso"===j.timeType?d.$dateValue.toISOString():new Date(d.$dateValue)}),d.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?0/0:angular.isDate(a)?a:"string"===j.timeType?l.parse(a,null,j.modelTimeFormat):new Date(a),d.$dateValue=b,d.$dateValue}),d.$render=function(){b.val(!d.$dateValue||isNaN(d.$dateValue.getTime())?"":e(d.$dateValue,j.timeFormat))},a.$on("$destroy",function(){k.destroy(),j=null,k=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var a=this.defaults={animation:"am-fade",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","dimensions","$$rAF",function(c,d,e,f,g,h,i,j,k){function l(b,c){function f(){return"body"===r.container?j.offset(r.target||b[0]):j.position(r.target||b[0])}function g(a,b,c,d){var e,f=a.split("-");switch(f[0]){case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;default:e={top:b.top-d,left:b.left+b.width/2-c/2}}if(!f[1])return e;if("top"===f[0]||"bottom"===f[0])switch(f[1]){case"left":e.left=b.left;break;case"right":e.left=b.left+b.width-c}else if("left"===f[0]||"right"===f[0])switch(f[1]){case"top":e.top=b.top-d;break;case"bottom":e.top=b.top+b.height}return e}var h={},l="";b[0]&&b[0].nodeName&&(l=b[0].nodeName.toLowerCase());var r=h.$options=angular.extend({},a,c);h.$promise=n(r.template);var s=h.$scope=r.scope&&r.scope.$new()||d.$new();r.delay&&angular.isString(r.delay)&&(r.delay=parseFloat(r.delay)),r.title&&(h.$scope.title=r.title),s.$hide=function(){s.$$postDigest(function(){h.hide()})},s.$show=function(){s.$$postDigest(function(){h.show()})},s.$toggle=function(){s.$$postDigest(function(){h.toggle()})},h.$isShown=s.$isShown=!1;var t,u;r.contentTemplate&&(h.$promise=h.$promise.then(function(a){var b=angular.element(a);return n(r.contentTemplate).then(function(a){var c=m('[ng-bind="content"]',b[0]);return c.length||(c=m('[ng-bind="title"]',b[0])),c.removeAttr("ng-bind").html(a),b[0].outerHTML})}));var v,w,x,y;return h.$promise.then(function(a){angular.isObject(a)&&(a=a.data),r.html&&(a=a.replace(q,'ng-bind-html="')),a=o.apply(a),x=a,v=e(a),h.init()}),h.init=function(){r.delay&&angular.isNumber(r.delay)&&(r.delay={show:r.delay,hide:r.delay}),"self"===r.container?y=b:r.container&&(y=m(r.container));var a=r.trigger.split(" ");angular.forEach(a,function(a){"click"===a?b.on("click",h.toggle):"manual"!==a&&"string"!=typeof b&&(b.on("hover"===a?"mouseenter":"focus",h.enter),b.on("hover"===a?"mouseleave":"blur",h.leave),"button"===l&&"hover"!==a&&b.on(p?"touchstart":"mousedown",h.$onFocusElementMouseDown))}),r.target&&(r.target=angular.isElement(r.target)?r.target:m(r.target)[0]),r.show&&s.$$postDigest(function(){"focus"===r.trigger?b[0].focus():h.show()})},h.destroy=function(){for(var a=r.trigger.split(" "),c=a.length;c--;){var d=a[c];"click"===d?b.off("click",h.toggle):"manual"!==d&&(b.off("hover"===d?"mouseenter":"focus",h.enter),b.off("hover"===d?"mouseleave":"blur",h.leave),"button"===l&&"hover"!==d&&b.off(p?"touchstart":"mousedown",h.$onFocusElementMouseDown))}w&&(w.remove(),w=null),clearTimeout(t),s.$destroy()},h.enter=function(){return clearTimeout(t),u="in",r.delay&&r.delay.show?void(t=setTimeout(function(){"in"===u&&h.show()},r.delay.show)):h.show()},h.show=function(){s.$emit(r.prefixEvent+".show.before",h);var a=r.container?y:null,c=r.container?null:b;w&&w.remove(),w=h.$element=v(s,function(){}),w.css({top:"-9999px",left:"-9999px",display:"block"}).addClass(r.placement),r.animation&&w.addClass(r.animation),r.type&&w.addClass(r.prefixClass+"-"+r.type),i.enter(w,a,c,function(){s.$emit(r.prefixEvent+".show",h)}),h.$isShown=s.$isShown=!0,s.$$phase||s.$root&&s.$root.$$phase||s.$digest(),k(h.$applyPlacement),r.keyboard&&("focus"!==r.trigger?(h.focus(),w.on("keyup",h.$onKeyUp)):b.on("keyup",h.$onFocusKeyUp))},h.leave=function(){return clearTimeout(t),u="out",r.delay&&r.delay.hide?void(t=setTimeout(function(){"out"===u&&h.hide()},r.delay.hide)):h.hide()},h.hide=function(a){return h.$isShown?(s.$emit(r.prefixEvent+".hide.before",h),i.leave(w,function(){s.$emit(r.prefixEvent+".hide",h)}),h.$isShown=s.$isShown=!1,s.$$phase||s.$root&&s.$root.$$phase||s.$digest(),r.keyboard&&null!==w&&w.off("keyup",h.$onKeyUp),a&&"focus"===r.trigger?b[0].blur():void 0):void 0},h.toggle=function(){h.$isShown?h.leave():h.enter()},h.focus=function(){w[0].focus()},h.$applyPlacement=function(){if(w){var a=f(),b=w.prop("offsetWidth"),c=w.prop("offsetHeight"),d=g(r.placement,a,b,c);d.top+="px",d.left+="px",w.css(d)}},h.$onKeyUp=function(a){27===a.which&&h.hide()},h.$onFocusKeyUp=function(a){27===a.which&&b[0].blur()},h.$onFocusElementMouseDown=function(a){a.preventDefault(),a.stopPropagation(),h.$isShown?b[0].blur():b[0].focus()},h}function m(a,c){return angular.element((c||b).querySelectorAll(a))}function n(a){return f.when(g.get(a)||h.get(a)).then(function(b){return angular.isObject(b)?(g.put(a,b.data),b.data):b})}var o=String.prototype.trim,p="createTouch"in c.document,q=/ng-bind="/gi;return l}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(a,b,c,d,e){return{restrict:"EAC",scope:!0,link:function(a,b,f){var g={scope:a};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])}),angular.forEach(["title"],function(b){f[b]&&f.$observe(b,function(d,f){a[b]=c.trustAsHtml(d),angular.isDefined(f)&&e(function(){h&&h.$applyPlacement()})})}),f.bsTooltip&&a.$watch(f.bsTooltip,function(b,c){angular.isObject(b)?angular.extend(a,b):a.title=b,angular.isDefined(c)&&e(function(){h&&h.$applyPlacement()})},!0);var h=d(b,g);a.$on("$destroy",function(){h.destroy(),g=null,h=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var a=this.defaults={animation:"am-fade",prefixClass:"typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6};this.$get=["$window","$rootScope","$tooltip",function(b,c,d){function e(b,c,e){var f={},g=angular.extend({},a,e);f=d(b,g);var h=e.scope,i=f.$scope;i.$resetMatches=function(){i.$matches=[],i.$activeIndex=-1},i.$resetMatches(),i.$activate=function(a){i.$$postDigest(function(){f.activate(a)})},i.$select=function(a){i.$$postDigest(function(){f.select(a)})},i.$isVisible=function(){return f.$isVisible()},f.update=function(a){i.$matches=a,i.$activeIndex>=a.length&&(i.$activeIndex=0)},f.activate=function(a){i.$activeIndex=a},f.select=function(a){if(a>=0){var b=i.$matches[a].value;c.$setViewValue(b),c.$render(),i.$resetMatches(),h&&h.$digest(),i.$emit("$typeahead.select",b,a)}else i.$emit("$typeahead.select",c.$viewValue,-1)},f.$isVisible=function(){return g.minLength&&c?i.$matches.length&&angular.isString(c.$viewValue)&&c.$viewValue.length>=g.minLength:!!i.$matches.length},f.$getIndex=function(a){var b=i.$matches.length,c=b;if(b){for(c=b;c--&&i.$matches[c].value!==a;);if(!(0>c))return c}},f.$onMouseDown=function(a){a.preventDefault(),a.stopPropagation()},f.$onKeyDown=function(a){/(38|40|13)/.test(a.keyCode)&&(a.preventDefault(),a.stopPropagation(),13===a.keyCode&&i.$matches.length?f.select(i.$activeIndex):13===a.keyCode?i.$emit("$typeahead.select",c.$viewValue):38===a.keyCode&&i.$activeIndex>0?i.$activeIndex--:40===a.keyCode&&i.$activeIndex<i.$matches.length-1?i.$activeIndex++:angular.isUndefined(i.$activeIndex)&&(i.$activeIndex=0),i.$digest())};var j=f.show;f.show=function(){j(),setTimeout(function(){f.$element.on("mousedown",f.$onMouseDown),g.keyboard&&b.on("keydown",f.$onKeyDown)})};var k=f.hide;return f.hide=function(){f.$element.off("mousedown",f.$onMouseDown),g.keyboard&&b.off("keydown",f.$onKeyDown),k()},f}angular.element(b.document.body);return e.defaults=a,e}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])});var i=h.filter||f.filter,j=h.limit||f.limit,k=c.ngOptions;i&&(k+=" | "+i+":$viewValue"),j&&(k+=" | limitTo:"+j);var l=e(k),m=d(b,g,h);a.$watch(c.ngModel,function(b){a.$modelValue=b,l.valuesFn(a,g).then(function(a){a.length>j&&(a=a.slice(0,j)),(1!==a.length||a[0].value!==b)&&(m.update(a),g.$render())})}),g.$render=function(){if(g.$isEmpty(g.$viewValue))return b.val("");var a=m.$getIndex(g.$modelValue),c=angular.isDefined(a)?m.$scope.$matches[a].label:g.$viewValue;c=angular.isObject(c)?c.label:c,b.val(c.replace(/<(?:.|\n)*?>/gm,"").trim())},a.$on("$destroy",function(){m.destroy(),h=null,m=null})}}}])}(window,document),function(){angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(a){a.put("alert/alert.tpl.html",'<div class="alert" tabindex="-1" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(a){a.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(a){a.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(a){a.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(a){a.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(a){a.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(a){a.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><span ng-bind="match.label"></span> <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(a){a.put("tab/tab.tpl.html",'<ul class="nav nav-tabs"><li ng-repeat="pane in panes" ng-class="{active: $index == active}"><a data-toggle="tab" ng-click="setActive($index, $event)" data-index="{{$index}}" ng-bind-html="pane.title"></a></li></ul><div class="tab-content"><div ng-repeat="pane in panes" class="tab-pane" ng-class="[$index == active ? \'active\' : \'\']" ng-include="pane.template || \'$pane\'"></div></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(a){a.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$moveIndex(-1, 0)"><i class="{{$iconUp}}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$moveIndex(-1, 1)"><i class="{{$iconUp}}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$moveIndex(1, 0)"><i class="{{$iconDown}}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$moveIndex(1, 1)"><i class="{{$iconDown}}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(a){a.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(a){a.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document);